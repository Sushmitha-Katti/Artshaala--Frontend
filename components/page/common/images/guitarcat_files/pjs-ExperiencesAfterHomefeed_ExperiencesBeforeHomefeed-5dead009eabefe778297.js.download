(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed"],{"3XYW":function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("Qo1m"),s=n("kAB2"),l=n("+U6O");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(r=d(t).call(this,e))||"object"!==c(r)&&"function"!=typeof r?f(o):r,m(f(f(n)),"explosionAnimationDelayMS",800),m(f(f(n)),"completeExperienceDelayMS",3400),m(f(f(n)),"fadeOutAnimationDelayMS",2600),n.state={fadeCelebrationIn:!1},n}var n,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props.handleComplete;window.requestAnimationFrame(function(){return e.setState({fadeCelebrationIn:!0})}),setTimeout(function(){return e.setState({fadeCelebrationIn:!1})},this.fadeOutAnimationDelayMS),setTimeout(t,this.completeExperienceDelayMS)}},{key:"render",value:function(){var e,t=this.state.fadeCelebrationIn;return r.a.createElement(l.b,{display:"flex",color:"white",alignItems:"center",justifyContent:"center"},r.a.createElement(l.u,{shape:"rounded",width:"100%",height:"100%"},r.a.createElement(s.a,{delay:this.explosionAnimationDelayMS,startAnimation:t},r.a.createElement(l.b,{width:"100%",dangerouslySetInlineStyle:(e=t,{__style:{transition:"opacity ".concat(e?"0.4":"0.8","s ease"),opacity:e?1:0,padding:"70px"}})},r.a.createElement(l.b,{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},r.a.createElement("h1",{style:{color:"#333",zIndex:9999,fontSize:"3em"}},i.a._("You got this!","Celebratory text to encourage user to keep on completing more actions")))))))}}])&&u(n.prototype,a),h&&u(n,h),t}(),b=(n("hvnN"),n("ePT2")),y=n("9Y9K"),w=n("UmN8");n("IX6r");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var C=function(e){function t(){var e,n,o,r,a,i,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return o=this,n=!(r=(e=E(t)).call.apply(e,[this].concat(c)))||"object"!==g(r)&&"function"!=typeof r?_(o):r,a=_(_(n)),s={completedCheck:!1},(i="state")in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o["PureComponent"]),n=t,(a=[{key:"initiateCheckAnimation",value:function(){var e=this,t=this.props,n=t.isCompleted,o=t.idx;n&&setTimeout(function(){window.requestAnimationFrame(function(){e.setState({completedCheck:!0})})},500+500*o)}},{key:"componentDidUpdate",value:function(){this.initiateCheckAnimation()}},{key:"componentDidMount",value:function(){this.initiateCheckAnimation()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.icon,o=e.text,a=e.isCompleted,i=e.inCheckAnimationExp,s=this.state.completedCheck,c=r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{marginRight:3},i?r.a.createElement("div",{className:s?"CheckListIcon__completed":"CheckListIcon"},r.a.createElement(l.n,{size:18,icon:s?"check":n,accessibilityLabel:s?"done":t,color:s?"white":"blue"})):r.a.createElement(l.b,{padding:4,color:a?"blue":"white",shape:"circle"},r.a.createElement(l.n,{size:18,icon:a?"check":n,accessibilityLabel:a?"done":t,color:a?"white":"blue"}))),r.a.createElement(l.K,{size:"xl"},o));return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{width:265,alignItems:"center",lgDisplay:"none",mdDisplay:"flex",smDisplay:"flex"},c),r.a.createElement(l.b,{width:265,alignItems:"center",justifyContent:"center",lgDisplay:"flex",mdDisplay:"none",smDisplay:"none"},c))}}])&&v(n.prototype,a),i&&v(n,i),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return I}),n.d(t,"a",function(){return M});function I(e){return new Promise(function(t,n){return b.a.create("UserResource",{user_id:e,field_set_key:"pin_actions"}).callGet().then(t).catch(n)})}function M(e){return new Promise(function(t,n){return b.a.create("UserStateResource",{state:e,value:1}).callCreate().then(t).catch(n)})}var R=function(e){function t(e){var n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=!(r=S(t).call(this,e))||"object"!==k(r)&&"function"!=typeof r?j(o):r,T(j(j(n)),"delayBeforeCompletionMS",5e3),T(j(j(n)),"celebrationAnimationDelayMS",3500),n.state={showCelebration:!1,fadeChecklistOut:!1};var a=e.initialDidPinClickthrough,i=e.initialDidPinCloseup,s=e.initialDidPinSave,l=e.updatePinActions,c=e.didPinClickthrough,u=e.didPinCloseup,d=e.didPinSave;return a&&(c=!0),i&&(u=!0),s&&(d=!0),l({didPinClickthrough:c,didPinCloseup:u,didPinSave:d}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o["PureComponent"]),n=t,(r=[{key:"startCelebrationAnimation",value:function(){var e=this;setTimeout(function(){window.requestAnimationFrame(function(){e.setState({fadeChecklistOut:!0}),window.requestAnimationFrame(function(){e.setState({showCelebration:!0})})})},this.celebrationAnimationDelayMS)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.handleComplete,n=e.initialDidPinClickthrough,o=e.initialDidPinCloseup,r=e.initialDidPinSave,a=e.checklistExpGroup,i=this.props,s=i.didPinClickthrough,l=i.didPinCloseup,c=i.didPinSave;(n&&(s=!0),o&&(l=!0),r&&(c=!0),s&&l&&c)&&("check_celebration_animation"===a||"celebration_animation"===a||"enabled"===a?this.startCelebrationAnimation():setTimeout(t,this.delayBeforeCompletionMS))}},{key:"render",value:function(){var e,t=this.props,n=t.didPinClickthrough,r=t.didPinCloseup,a=t.didPinSave,s=t.handleDismiss,c=t.checklistExpGroup,u=t.handleComplete,d=this.state,p=d.showCelebration,f=d.fadeChecklistOut,m="check_animation"===c||"check_celebration_animation"===c||"enabled"===c;e=n&&r&&a?i.a._("You're ready! Keep exploring to find your next great idea","user completed list of actions below the header"):a?i.a._("Saved! Each Pin you save improves your feed","user completed a pin save and the header text is changing"):n?i.a._("See! Every Pin links to the website it came from","user completed a pin clickthrough and the header text is changing"):r?i.a._("Nice find! You can click any Pin to learn more about it","user completed a closeup and the header text is changing"):i.a._("Here's how to get the most out of Pinterest","user has a list of actions below the header to complete");var b=[{accessibilityLabel:"closeup",icon:"arrow-up-right",text:i.a._("Click on a Pin you like","explaining what to do to complete the closeup step of checklist"),isCompleted:r},{accessibilityLabel:"save",icon:"pin",text:i.a._("Save it for later","explaining what to do to complete the pin save step of checklist"),isCompleted:a},{accessibilityLabel:"link",icon:"globe",text:i.a._("Visit the link it's from ","explaining what to do to complete the clickthrough step of checklist"),isCompleted:n}];return o.createElement(l.H,{dangerouslySetZIndex:{__zIndex:2},top:60},p?o.createElement(h,{handleComplete:u}):o.createElement(l.b,{dangerouslySetInlineStyle:f?{__style:{transition:"opacity 0.4s ease",opacity:0,backgroundColor:"white"}}:null},o.createElement(l.b,{color:"lightGray",display:"flex",dangerouslySetInlineStyle:{__style:{overflow:"hidden"}}},o.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"center",paddingX:12,paddingY:8,color:"blue",maxWidth:550,width:"100%",dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"80px 380px"}}},o.createElement(l.m,{size:"sm",color:"white",overflow:"normal"},e)),o.createElement(l.b,{position:"absolute",top:!0,right:!0,paddingY:2,paddingX:5},o.createElement(l.o,{accessibilityLabel:i.a._("Hide Checklist","hide the checklist of pin actions at the top of the homefeed"),icon:"cancel",onClick:s,size:"sm"})),o.createElement(l.b,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},o.createElement(l.b,{display:"flex",padding:4,marginStart:-4,marginEnd:-4,marginTop:-2,marginBottom:-2,maxWidth:900,width:"100%",wrap:!0},b.map(function(e,t){var n=e.icon,r=e.accessibilityLabel,a=e.text,i=e.isCompleted;return o.createElement(l.h,{key:a,lgSpan:4,span:12},o.createElement(l.b,{display:"flex",justifyContent:"center",paddingX:4,paddingY:2},o.createElement(C,{idx:t,accessibilityLabel:r,icon:n,text:a,isCompleted:i,inCheckAnimationExp:m})))}))))))}}])&&O(n.prototype,r),a&&O(n,a),t}();t.b=Object(y.compose)(Object(a.connect)(function(e){var t=e.ui.checklist;return{didPinCloseup:t.didPinCloseup,didPinClickthrough:t.didPinClickthrough,didPinSave:t.didPinSave}},function(e){return{updatePinActions:function(t){return e({type:"UPDATE_PIN_ACTIONS",payload:t})}}}))(function(e){return o.createElement(w.a,{name:"web_checklist_check_celebration_animation"},function(t){var n=t.group;return o.createElement(R,Object.assign({},e,{checklistExpGroup:n}))})})},"8UPC":function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("D+W/"),i=n("Qo1m"),s=n("iJ35"),l=(n("hvnN"),n("OLQZ")),c=n.n(l),u=n("ggpB"),d=n("+U6O");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=10,g=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=m(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==p(r)&&"function"!=typeof r?b(o):r,y(b(b(n)),"state",{isVisible:!0}),y(b(b(n)),"onScroll",c()(function(){var e=n.getScrollPos();e>w?n.setState({isVisible:!1}):0===e&&n.setState({isVisible:!0})})),y(b(b(n)),"handleGotItClick",function(){Object(u.a)("auth_eu_cookie_banner_dismissed"),n.props.onGotItClick&&n.props.onGotItClick()}),n}var n,l,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["PureComponent"]),n=t,(l=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),this.onScroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"getScrollPos",value:function(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}},{key:"hide",value:function(){this.state.isVisible&&this.setState({isVisible:!1})}},{key:"show",value:function(){this.state.isVisible||this.setState({isVisible:!0})}},{key:"handleLearnMoreClick",value:function(){Object(u.a)("auth_eu_cookie_banner_learnmore")}},{key:"handlePrivacyClick",value:function(){Object(u.a)("auth_eu_cookie_banner_privacy")}},{key:"render",value:function(){var e={__style:{animation:this.state.isVisible?"fadeIn .5s":"fadeOutAndHide .5s forwards",backgroundColor:"#1c232c",opacity:.8,zIndex:1e3}};return r.a.createElement("div",{className:"EuCookieBar"},r.a.createElement(d.b,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:e,height:36,justifyContent:"between",position:"fixed",xs:{column:12,display:"flex"}},r.a.createElement(d.b,{deprecatedPadding:{x:2}},r.a.createElement(s.b,{onClick:this.handlePrivacyClick,style:{color:"white"},to:a.a.GEN.templateConst.settings.ABOUT_PRIVACY_URL},i.a._("Privacy","Accessible label for the Privacy link in the EU cookie bar"))),r.a.createElement(d.b,{display:"flex",alignItems:"center"},r.a.createElement(d.b,{deprecatedPadding:{x:1}},r.a.createElement(d.K,{color:"gray",inline:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},i.a._("Pinterest is using cookies to help give you the best experience we can.","Accessible label for the cookie text description in the EU cookie bar"))),r.a.createElement(d.b,{deprecatedPadding:{x:1}},r.a.createElement(s.b,{onClick:this.handleLearnMoreClick,style:{color:"white"},to:a.a.GEN.templateConst.settings.ABOUT_COOKIE_URL},i.a._("Learn More","Accessible label for the Learn More link in the EU cookie bar"))),r.a.createElement(d.b,{deprecatedPadding:{x:1}},r.a.createElement("button",{className:"Button borderless cookieButton",onClick:this.handleGotItClick},i.a._("Got it!","Accessible label for the Got it! button in the EU cookie bar"))))))}}])&&f(n.prototype,l),g&&f(n,g),t}(),v=n("iz36"),E=function(e){var t=e.placementId;return o.createElement(v.a,{experienceIds:[14e3],placementId:t},function(e){var t=e.complete;return o.createElement(g,{onGotItClick:t})})},P=n("G8pY"),_=n("Ljpz"),C=n("dsfX");var k=function(e){var t=e.connectType,n=e.onConfirm,o=e.onHide,a=i.a._("Erase existing password?");return r.a.createElement(C.a,{accessibilityCloseLabel:i.a._("Close"),accessibilityModalLabel:a,onDismiss:o,heading:a,footer:r.a.createElement(d.b,{marginLeft:-1,marginRight:-1},r.a.createElement(d.b,{padding:1},r.a.createElement(d.c,{size:"lg",text:i.a._("Cancel","Button text for canceling connect and erase password"),onClick:o})),r.a.createElement(d.b,{padding:1},r.a.createElement(d.c,{size:"lg",color:"red",text:i.a._("Okay","Button text for accepting connect and erase password"),onClick:n}))),role:"alertdialog"},r.a.createElement(d.b,{padding:4},r.a.createElement(d.K,null,"google"===t?i.a._("Please confirm that you’ll log in with Google—rather than your previous Pinterest password—in the future"):i.a._("Please confirm that you’ll log in with Facebook—rather than your previous Pinterest password—in the future"))))},O=function(e){var t=e.connectType,n=e.onConfirm;return r.a.createElement(C.a,{accessibilityCloseLabel:i.a._("Close","Button text for closing account connect confirmation"),accessibilityModalLabel:i.a._("Successfully connected account","Accessible label for success message after account connect"),onDismiss:n,heading:i.a._("Success!","Title for success message after account connect"),footer:r.a.createElement(d.b,{marginLeft:-1,marginRight:-1},r.a.createElement(d.b,{padding:1},r.a.createElement(d.c,{size:"lg",color:"red",text:i.a._("Got it","Button text for accepting account connect confirmation"),onClick:n}))),role:"alertdialog"},r.a.createElement(d.b,{padding:4},r.a.createElement(d.K,null,"google"===t?i.a._("You can now log into Pinterest with your Google account.","Inform users they should log in with Google after compromised account flow"):i.a._("You can now log into Pinterest with your Facebook account.","Inform users they should log in with Facebook after compromised account flow"))),r.a.createElement(d.b,{paddingBottom:4,paddingX:4},r.a.createElement(d.K,null,i.a._("That means your old password will no longer work.","Inform users they cannot login with a password after using social connect in compromised account flow"))))},S=n("4fCo"),x=function(e){var t=e.onClick,n=e.text;return o.createElement(d.b,{marginStart:2},o.createElement(d.c,{color:"transparent",inline:!0,onClick:t,text:n}))},j=function(e){var t=e.onChangePassword,n=e.onDismiss,r=e.onFacebookConnect,a=e.onGoogleConnect;return o.createElement("div",{className:"gridCentered"},o.createElement(d.b,{marginTop:6,marginEnd:3,marginStart:3,overflow:"hidden",shape:"rounded"},o.createElement(d.b,{color:"darkGray",paddingY:4,paddingX:4},o.createElement(d.b,{display:"flex",alignItems:"start",justifyContent:"between"},o.createElement(d.b,{flex:"grow"},o.createElement(d.K,{color:"white",bold:!0},i.a._("Based on our automatic security checks, it looks like your Pinterest password is the same as one that was stolen from another site.","Notify user their account credentials are compromised")),o.createElement(d.b,{marginTop:3},o.createElement(d.K,{color:"white",bold:!0},i.a._("We recommend you change your password or connect your Google or Facebook account.","Suggest a user change their password or connect to Google / Facebook")))),o.createElement(d.b,{marginTop:-2,marginEnd:-2},o.createElement(d.o,{accessibilityLabel:i.a._("Close","accessibility close label"),onClick:n,icon:"cancel"}))),o.createElement(d.b,{xs:{display:"flexColumn"},sm:{display:"flex"},marginTop:4},o.createElement(d.c,{inline:!0,onClick:t,text:i.a._("Change Password","Shows a form for the user to change their password")}),o.createElement(x,{onClick:a,text:i.a._("Connect with Google")}),o.createElement(x,{onClick:r,text:i.a._("Connect with Facebook")})))))},T=n("9CQp"),I=n("Q9Wq"),M=n("+pqy");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=this,r=(e=A(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==R(r)&&"function"!=typeof r?F(o):r,N(F(F(n)),"state",{activeModal:null}),N(F(F(n)),"socialManager",M.a.instance()),N(F(F(n)),"activateModal",function(e){return function(){return n.setState({activeModal:e})}}),N(F(F(n)),"handleConnect",function(e){return function(){n.activateModal(null)(),n.socialManager.handleConnect(e,!0,{success:n.activateModal("google"===e?"connectedGoogle":"connectedFacebook")})}}),N(F(F(n)),"handlePasswordChangeSuccessConfirm",function(){n.activateModal(null)(),n.props.onComplete()}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,o["Component"]),n=t,(r=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.onComplete,a=n.onDismiss,i=this.state.activeModal;return"confirmGoogleConnect"===i||"connectedGoogle"===i?e="google":"confirmFacebookConnect"!==i&&"connectedFacebook"!==i||(e="facebook"),o.createElement(o.Fragment,null,o.createElement(j,{onChangePassword:this.activateModal("changePassword"),onDismiss:a,onFacebookConnect:this.activateModal("confirmFacebookConnect"),onGoogleConnect:this.activateModal("confirmGoogleConnect")}),"changePassword"===i&&o.createElement(S.a,null,function(e){return o.createElement(I.a,{hasPassword:!!e.isAuth&&e.hasPassword,onHide:t.activateModal(null),onPasswordForgotModal:t.activateModal("forgotPassword"),onSuccess:t.activateModal("changedPasswordSuccess"),username:e.isAuth?e.username:""})}),"changedPasswordSuccess"===i&&o.createElement(T.a,{onHide:this.handlePasswordChangeSuccessConfirm}),"forgotPassword"===i&&o.createElement(_.a,{variant:"changePassword",onHide:this.activateModal(null)}),("confirmGoogleConnect"===i||"confirmFacebookConnect"===i)&&e&&o.createElement(k,{connectType:e,onConfirm:this.handleConnect(e),onHide:this.activateModal(null)}),("connectedGoogle"===i||"connectedFacebook"===i)&&e&&o.createElement(O,{connectType:e,onConfirm:r}))}}])&&L(n.prototype,r),a&&L(n,a),t}(),G=function(e){var t=e.placementId;return o.createElement(v.a,{experienceIds:[500818],placementId:t},function(e){var t=e.complete,n=e.dismiss;return o.createElement(B,{onComplete:t,onDismiss:n})})},z=n("GjKX"),U=n("zEno"),K=n("lglE"),H=n("cUng");function Y(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var V=function(e){var t=e.placementId,n=Y(e,["placementId"]);return o.createElement(v.a,{placementId:t,type:9},function(e){var t=e.complete,r=e.dismiss,a=e.display_data;return o.createElement(U.a,Object.assign({},Object(H.a)(K.a,!0)(a),{handleComplete:t,handleDismiss:r},n))})};var q=n("RuD8"),W=n.n(q),X=n("ePT2"),Q=n("Irlq");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe={FIRST:"first",END:"end"},re=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=$(t).call(this,e),n=!r||"object"!==Z(r)&&"function"!=typeof r?te(o):r,ne(te(te(n)),"onCheck",function(e){var t=e.checked;return n.setState({checked:t})}),ne(te(te(n)),"onTextChange",function(e){var t=e.value;return n.setState({newEmail:t})}),ne(te(te(n)),"closeModal",function(){var e=n.props.handleComplete;setTimeout(e,5e3)}),ne(te(te(n)),"updateEmailAddress",function(){var e=n.props.currentEmail,t=n.state,o=t.checked,r=t.newEmail;e&&r&&e.trim()!==r?X.a.create("UserSettingsResource",{email:r,email_bounced:!1}).callUpdate({showError:!1}).then(function(){return n.updateNotifSetting(o)},function(e){return n.setState({errorMessage:e.message})}):n.updateNotifSetting(o)}),ne(te(te(n)),"updateNotifSetting",function(e){var t;n.setState({currentStep:oe.END}),t=!0===e?{section:"settings_email",option:"ALL",value:!0}:{section:"settings_email",option:"ONLY_REQUIRED",value:!0},X.a.create("EmailSettingsResource",t).callUpdate(),n.closeModal()}),n.state={currentStep:oe.FIRST,newEmail:e.currentEmail,checked:!0},n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,o["Component"]),n=t,(a=[{key:"getModalText",value:function(e){return e===oe.FIRST?i.a._("We're having some trouble reaching you. Is this still your email?","prompt to update email"):i.a._("Thanks! Your email preferences have been saved.","after updating email address")}},{key:"renderStep",value:function(e){var t=this.state,n=t.checked,o=t.errorMessage,a=t.newEmail;return e===oe.FIRST?r.a.createElement(d.b,{maxWidth:310},r.a.createElement(d.b,{alignItems:"center",display:"flex",marginBottom:6},r.a.createElement(d.e,{checked:n,id:"notif",onChange:this.onCheck,size:"sm"}),r.a.createElement(d.q,{htmlFor:"notif"},r.a.createElement(d.b,{paddingX:2},r.a.createElement(d.K,{size:"sm"},i.a._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt"))))),r.a.createElement(d.M,{id:"email",type:"email",onChange:this.onTextChange,value:a,errorMessage:o}),r.a.createElement(d.b,{paddingY:1},r.a.createElement(d.c,{color:"red",text:i.a._("Done","done updating email address"),onClick:this.updateEmailAddress}))):r.a.createElement(d.K,{overflow:"normal",size:"lg"},Object(Q.b)(i.a._("You can always change them later from your {{settingsLink}}.","link to change email settings"),{settingsLink:r.a.createElement(s.b,{key:"settingsLink",to:"/settings/"},i.a._("Settings","link to edit account settings"))}))}},{key:"render",value:function(){var e=this.props.handleDismiss,t=this.state.currentStep;return r.a.createElement(d.b,{color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},r.a.createElement(d.b,{display:"flex",alignItems:"center"},r.a.createElement(d.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},r.a.createElement(d.b,{width:292,height:479,marginBottom:-6},r.a.createElement(d.p,{alt:i.a._("preview of mobile app","prompt to fix email"),naturalWidth:292,naturalHeight:479,src:W.a}))),r.a.createElement(d.b,{position:"relative"},r.a.createElement(d.b,{display:"flex",alignItems:"center",width:330,height:540},r.a.createElement(d.b,{paddingX:3},r.a.createElement(d.b,{paddingY:6},r.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},this.getModalText(t))),this.renderStep(t))),t===oe.FIRST&&r.a.createElement(d.b,{padding:6,position:"absolute",bottom:!0,right:!0},r.a.createElement(d.P,{onTouch:e,fullWidth:!1},r.a.createElement(d.K,{bold:!0},i.a._("Skip for now","Skip prompt to change email address")))))))}}])&&J(n.prototype,a),l&&J(n,l),t}(),ae=n("QG6s"),ie=n("Mr4W"),se=n("UmN8"),le=n("ovu7");function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he={FIRST:"first",END:"end"},be={__style:{width:"382px",height:"112px",fontFamily:"HelveticaNeue",fontSize:"48px",fontWeight:"bold",fontStyle:"normal",fontStretch:"normal",lineHeight:"1.17",color:"#333333"}},ye=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=this,r=(e=de(t)).call.apply(e,[this].concat(s)),n=!r||"object"!==ce(r)&&"function"!=typeof r?fe(o):r,me(fe(fe(n)),"state",{buttonLoading:!1,currentStep:he.FIRST,currentEmail:n.props.currentEmail,newPassword:"",repeatPassword:"",newPasswordErrors:[],repeatPasswordErrors:[]}),me(fe(fe(n)),"getFocusFieldRef",function(e){var t=Object(ie.findDOMNode)(e);if(t&&t instanceof HTMLElement){var n=t.querySelector("input");n&&n.focus()}}),me(fe(fe(n)),"handleCancel",function(e){Object(u.a)("unauth_web.password_upsell_modal.submit.".concat(e)),n.props.handleDismiss()}),me(fe(fe(n)),"handleSubmit",function(e){var t=n.props.handleComplete,o=n.state,r=o.newPassword,a=o.newPasswordErrors,i=o.repeatPassword,s=o.repeatPasswordErrors;if(n.handleButtonLoading(!0),n.handleBlankFields(),a.length||s.length||""===r||""===i)n.handleButtonLoading(!1);else{var l={new_password:r,new_password_confirm:i};Object(u.a)("unauth_web.password_upsell_modal.submit.".concat(e)),X.a.create("UserPasswordResource",l).callUpdate({showError:!1}).then(function(){n.setState({currentStep:he.END}),setTimeout(t,e)},function(e){Object(u.a)("unauth_web.password_upsell_modal.update_error.".concat(e.api_error_code)),n.setState({newPasswordErrors:[e.message]}),n.handleButtonLoading(!1)})}}),me(fe(fe(n)),"handleBlankFields",function(){var e={};""===n.state.newPassword&&(e.newPasswordErrors=[i.a._("Required","Error message to hint user missed a field.")]),""===n.state.repeatPassword&&(e.repeatPasswordErrors=[i.a._("Required","Error message to hint user missed a field.")]),n.setState(e)}),me(fe(fe(n)),"runValidators",function(e,t){var n=[],o={};return e.forEach(function(e){var r=e(t);r&&"number"==typeof r.score&&(o={score:r.score}),n=n.concat(r.errors)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){me(e,t,n[t])})}return e}({errors:n},o)}),me(fe(fe(n)),"updateAndValidate",function(e,t){var o,r={newPassword:n.state.newPassword,repeatPassword:n.state.repeatPassword};r[e]=t;var a=[],i=[];""!==r.newPassword&&(a=n.validateNewPassword(r.newPassword).errors),""!==r.repeatPassword&&""!==r.newPassword&&(i=n.validateRepeatPassword(r.newPassword,r.repeatPassword).errors),n.setState((me(o={},e,t),me(o,"newPasswordErrors",a),me(o,"repeatPasswordErrors",i),o))}),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,o["Component"]),n=t,(a=[{key:"getModalText",value:function(e){return e===he.FIRST?i.a._("Oh, no! You haven't set up your password yet.","prompt to upsell social users to setup their password"):i.a._("You are all set! Now you can login in using your email and password.","message to show after user successfully setup  his/her password")}},{key:"handleButtonLoading",value:function(e){this.setState({buttonLoading:e})}},{key:"validateNewPassword",value:function(e){var t=[Object(le.q)(),Object(le.b)({message:i.a.commonStrings.asciiPasswordError}),Object(le.n)({username:this.props.username,samePasswordStr:i.a._("Oops! Your password shouldn’t match your username.","Error message when user set his/her user name as his/her password ")})];return this.runValidators(t,e)}},{key:"validateRepeatPassword",value:function(e,t){var n=[Object(le.q)(),Object(le.g)({targetValue:e,message:i.a._("Passwords don’t match","Error message when the password and typed password are different")})];return this.runValidators(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentEmail,o=t.currentStep,a=t.newPassword,s=t.repeatPassword,l=t.newPasswordErrors,c=t.repeatPasswordErrors,u=a&&s&&0===l.length&&0===c.length;return r.a.createElement(se.a,{name:"upsell_social_user_set_password",activate:!1},function(t){return t.group.startsWith("enabled_var1")?r.a.createElement(d.b,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},r.a.createElement(d.b,{display:"flex",alignItems:"center"},r.a.createElement(d.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},r.a.createElement(d.b,{width:292,height:479,marginBottom:-6},r.a.createElement(d.p,{alt:i.a._("preview of mobile app","prompt to setup password"),naturalWidth:292,naturalHeight:479,src:W.a}))),r.a.createElement(d.b,{position:"relative"},r.a.createElement(d.b,{display:"flex",alignItems:"center",width:330,height:540},r.a.createElement(d.b,{paddingY:6,marginTop:5},r.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},e.getModalText(o)),o===he.FIRST&&r.a.createElement(d.b,null,r.a.createElement(d.b,null,r.a.createElement(d.b,{display:"flex",marginTop:6},r.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},r.a.createElement(d.q,{htmlFor:"changePasswordNew"},r.a.createElement(d.K,{bold:!0}," ",i.a._("Email","label for email field")))),r.a.createElement(d.K,null,n)),r.a.createElement(d.b,{display:"flex",marginTop:3},r.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},r.a.createElement(d.q,{htmlFor:"changePasswordNew"},r.a.createElement(d.K,{bold:!0},i.a._("Password","label for new password field")))),r.a.createElement(d.b,{width:225},r.a.createElement(d.M,{ref:e.getFocusFieldRef,errorMessage:l[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},type:"password",value:a}))),r.a.createElement(d.b,{display:"flex",marginTop:3},r.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},r.a.createElement(d.q,{htmlFor:"changePasswordRetype"},r.a.createElement(d.K,{bold:!0},i.a._("Retype","label for retype password field")))),r.a.createElement(d.b,{width:225},r.a.createElement(d.M,{errorMessage:c[0],id:"changePasswordRetype",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},type:"password",value:s})))),r.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:5,marginRight:6},r.a.createElement(d.c,{color:"red",type:"submit",disabled:!u||e.state.buttonLoading,onClick:function(){return e.handleSubmit(2500)},text:i.a._("Set Password","Label text for button that will set password."),size:"md"})),r.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:3,marginRight:6},r.a.createElement(d.c,{onClick:function(){return e.handleCancel(2500)},text:i.a._("Cancel","Label text for button that will set password."),size:"md"})))))))):r.a.createElement(d.b,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",padding:4,width:414,height:436},r.a.createElement(d.b,{display:"flex"},r.a.createElement(d.b,{dangerouslySetInlineStyle:be},i.a._("You need a password","Header text for password upsell for social users.")),r.a.createElement(d.b,null,r.a.createElement(d.o,{accessibilityLabel:i.a._("Close","accessible label for close button"),iconColor:"gray",icon:"cancel",onClick:function(){return e.handleCancel(0)},size:"xl"}))),r.a.createElement(d.b,{marginTop:8},r.a.createElement(d.K,{overflow:"normal",size:"lg"},i.a._("Oh no! Looks like you haven't created a password for this account yet. Set it now to log in with email and password in the future.","Explanatory text to upsell social users to setup their password")),r.a.createElement(d.b,{marginTop:3},r.a.createElement(d.K,{bold:!0,size:"lg"},n)),r.a.createElement(d.b,{marginTop:2},r.a.createElement(d.M,{ref:e.getFocusFieldRef,errorMessage:l[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},placeholder:i.a._("Enter Password","placeholder text for the password textfield"),type:"password",value:a})),r.a.createElement(d.b,{marginTop:2},r.a.createElement(d.M,{errorMessage:c[0],id:"changePasswordRetype",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},placeholder:i.a._("Re-enter Password","placeholder text for the retype password textfield"),type:"password",value:s}))),r.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:2},r.a.createElement(d.c,{color:"red",type:"submit",disabled:!u||e.state.buttonLoading,onClick:function(){return e.handleSubmit(0)},text:i.a._("Create Password","Label text for button that will set password."),size:"lg"})))})}}])&&ue(n.prototype,a),s&&ue(n,s),t}();var we=function(e){var t=e.placementId;return o.createElement(v.a,{experienceIds:[500331,500886],placementId:t},function(e){var t=e.experience_id,n=e.complete,r=e.dismiss,a=e.display_data,i=function(e){return 500886===e?ye:re}(t);return o.createElement(ae.a,{noButton:!0,onHide:r},o.createElement(i,Object.assign({},Object(H.a)(K.a)(a),{handleComplete:n,handleDismiss:r})))})},ge=(n("hGZ8"),n("EDDr"));n.d(t,"a",function(){return E}),n.d(t,"b",function(){return P.a}),n.d(t,"c",function(){return G}),n.d(t,"d",function(){return z.default}),n.d(t,"f",function(){return V}),n.d(t,"e",function(){return we}),n.d(t,"g",function(){return ge.a})},"9CQp":function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Qo1m"),i=n("dsfX"),s=n("+U6O");t.a=function(e){var t=e.onHide,n=a.a._("Password Changed!");return r.a.createElement(i.a,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:n,onDismiss:t,heading:n,footer:r.a.createElement(s.b,{display:"flex",alignItems:"center",justifyContent:"end"},r.a.createElement(s.c,{color:"red",inline:!0,onClick:t,text:a.a._("Okay"),size:"md"}))},r.a.createElement(s.b,{padding:4},r.a.createElement(s.K,null,a.a._("Your password has been changed successfully."))))}},EDDr:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("iz36"),i=(n("hvnN"),n("2cEh")),s=n("+U6O"),l=[500329,500410,500688];t.a=function(e){var t=e.placementId;return r.a.createElement(a.a,{placementId:t,experienceIds:l},function(e){e.experience_id;var t=e.complete,n=e.dismiss;return e.display_data,i.a.instance().subscribe(t,n),r.a.createElement(s.P,{onTouch:n,fullWidth:!1},r.a.createElement("div",{className:"experienceSystemPushOverlay"}),";")})}},G8pY:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Qo1m"),i=(n("hvnN"),n("+U6O")),s=n("4+0X");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={backgroundColor:"transparent",border:0,right:80},b=function(e){function t(e,n){var o,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=!(a=d(t).call(this,e,n))||"object"!==l(a)&&"function"!=typeof a?f(r):a,m(f(f(o)),"subscribers",[]);var i=e.handleComplete,u=e.transitionEvent,p=["navigateStarted"].concat(c(u?[u]:[]));return o.subscribers=p.map(function(e){return s.b.subscribe("site",e,i)}),o}var n,b,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o["Component"]),n=t,(b=[{key:"componentWillUnmount",value:function(){this.subscribers.forEach(function(e){return e.unsubscribe()}),this.subscribers=[]}},{key:"render",value:function(){var e=this.props,t=e.bannerText,n=e.canClose,o=e.handleComplete;return r.a.createElement("div",{className:"Module BottomBanner"},r.a.createElement("div",{className:"bannerContainer"},r.a.createElement("div",{className:"bannerText"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),n&&r.a.createElement("button",{className:"absolute closeButton p0",onClick:o,style:h},r.a.createElement(i.n,{accessibilityLabel:a.a._("close","Accessible label for the banner close button"),color:"white",icon:"cancel",inline:!0}))))}}])&&u(n.prototype,b),y&&u(n,y),t}();m(b,"defaultProps",{canClose:!1});var y=b,w=n("iz36"),g=n("lglE"),v=n("cUng"),E=[11019,11023,500207];t.a=function(e){var t=e.placementId;return o.createElement(w.a,{placementId:t,experienceIds:E},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return o.createElement(y,Object.assign({},Object(v.a)(g.a)(r),{handleComplete:t,handleDismiss:n}))})}},IX6r:function(e,t,n){},Ljpz:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("GyhR"),r=n.n(o),a=n("Qo1m"),i=n("dsfX"),s=n("+U6O");function l(e){var t=e.onHide,n=e.variant,o=a.a._("Please check your email"),l="";switch(n){case"changePassword":l=a.a._("We’ll send instructions for changing your password in just a minute.","Body of email for changing password modal");break;case"setPassword":l=a.a._("We’ll send instructions for setting your password in just a minute.","Body of email for setting password modal");break;case"verifyEmailAddress":l=a.a._("We’ll send you a verification email in just a minute.","Body of email for verifying email address modal")}return r.a.createElement(i.a,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:o,onDismiss:t,heading:o,size:"md",footer:r.a.createElement(s.b,{display:"flex",justifyContent:"end"},r.a.createElement(s.c,{color:"red",inline:!0,onClick:t,text:a.a._("Okay"),size:"md"}))},r.a.createElement(s.b,{padding:4},r.a.createElement(s.K,null,l)))}},Q9Wq:function(e,t,n){"use strict";var o=n("GyhR"),r=n("UhjI"),a=n("Qo1m"),i=n("dsfX"),s=n("ePT2"),l=n("ovu7"),c=n("+U6O");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=[],o={};return e.forEach(function(e){var r=e(t);r&&r.score&&(o={score:r.score}),n=n.concat(r.errors)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){h(e,t,n[t])})}return e}({errors:n},o)},y=function(e){var t=e.children,n=e.htmlFor,r=e.label,a=e.divide;return o.createElement(c.b,null,o.createElement(c.b,{display:"flex",padding:4},o.createElement(c.b,{alignItems:"center",marginRight:3,xs:{column:4}},o.createElement(c.q,{htmlFor:n},o.createElement(c.K,{bold:!0},r))),t),a?o.createElement(c.j,null):null)},w=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return o=this,i=(e=p(t)).call.apply(e,[this].concat(d)),n=!i||"object"!==u(i)&&"function"!=typeof i?m(o):i,h(m(m(n)),"state",{buttonLoading:!1,modalLoading:!1,oldPassword:void 0,newPassword:void 0,repeatPassword:void 0,oldPasswordErrors:[],newPasswordErrors:[],repeatPasswordErrors:[]}),h(m(m(n)),"handleSubmit",function(e){e.event.preventDefault();var t=n.state,o=t.oldPassword,r=t.oldPasswordErrors,a=t.newPassword,i=t.newPasswordErrors,l=t.repeatPassword,c=t.repeatPasswordErrors,u=n.props.hasPassword;if(n.handleButtonLoading(!0),n.handleBlankFields(),r.length||i.length||c.length||u&&void 0===o||void 0===a||void 0===l)n.handleButtonLoading(!1);else{var d={new_password:a,new_password_confirm:l,old_password:o};s.a.create("UserPasswordResource",d).callUpdate({showError:!1}).then(function(){n.props.onHide(),n.props.onSuccess&&n.props.onSuccess()},function(e){var t=((e.extra_data||{}).objects||{}).field||"old";n.setState(h({},"".concat(t,"PasswordErrors"),[e.message])),n.handleButtonLoading(!1)})}}),h(m(m(n)),"handleForgotPassword",function(){r.a.trackEvent("forgot_password","click"),n.handleModalLoading(!0),s.a.create("UserResetPasswordResource",{username_or_email:n.props.username}).callCreate({showError:!1}).then(function(){r.a.trackEvent("forgot_password","success"),n.props.onPasswordForgotModal(),n.handleModalLoading(!1)},function(){r.a.trackEvent("forgot_password","error")})}),h(m(m(n)),"handleBlankFields",function(){var e={};void 0===n.state.oldPassword&&(e.oldPasswordErrors=[a.a._("Required")]),void 0===n.state.newPassword&&(e.newPasswordErrors=[a.a._("Required")]),void 0===n.state.repeatPassword&&(e.repeatPasswordErrors=[a.a._("Required")]),n.setState(e)}),h(m(m(n)),"updateAndValidate",function(e,t){var o,r={oldPassword:n.state.oldPassword,newPassword:n.state.newPassword,repeatPassword:n.state.repeatPassword};r[e]=t;var a=[],i=[],s=[];void 0!==r.oldPassword&&(a=Object(l.q)()(r.oldPassword).errors),void 0!==r.newPassword&&(i=n.validateNewPassword(r.newPassword).errors),void 0!==r.repeatPassword&&void 0!==r.newPassword&&(s=n.validateRepeatPassword(r.newPassword,r.repeatPassword).errors),n.setState((h(o={},e,t),h(o,"oldPasswordErrors",a),h(o,"newPasswordErrors",i),h(o,"repeatPasswordErrors",s),o))}),n}var n,w,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["Component"]),n=t,(w=[{key:"handleButtonLoading",value:function(e){this.setState({buttonLoading:e})}},{key:"handleModalLoading",value:function(e){this.setState({modalLoading:e})}},{key:"validateNewPassword",value:function(e){var t=[Object(l.q)(),Object(l.b)({message:a.a.commonStrings.asciiPasswordError}),Object(l.n)({username:this.props.username,samePasswordStr:a.a._("Oops! Your password shouldn’t match your username.")})];return b(t,e)}},{key:"validateRepeatPassword",value:function(e,t){var n=[Object(l.q)(),Object(l.g)({targetValue:e,message:a.a._("Passwords don’t match")})];return b(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.oldPasswordErrors,r=t.newPasswordErrors,s=t.repeatPasswordErrors,l=this.props.hasPassword,u=l?a.a._("Change your password"):a.a._("Set your password"),d=l?a.a._("Change Password"):a.a._("Save"),p=(!l||this.state.oldPassword)&&this.state.newPassword&&this.state.repeatPassword&&0===n.length&&0===r.length&&0===s.length,f=o.createElement(c.b,{alignItems:"center",justifyContent:"end",marginLeft:-1,marginRight:-1,display:"flex"},o.createElement(c.b,{paddingX:1},o.createElement(c.c,{inline:!0,onClick:this.props.onHide,text:a.a._("Cancel"),size:"md"})),o.createElement(c.b,{paddingX:1},o.createElement(c.c,{color:"red",disabled:!p||this.state.buttonLoading,inline:!0,type:"submit",onClick:this.handleSubmit,text:d,size:"md"})));return o.createElement(i.a,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:u,onDismiss:this.props.onHide,heading:u,footer:f,size:"md"},l?o.createElement(c.b,null,o.createElement(c.b,{display:"flex",padding:4},o.createElement(c.b,{marginRight:3,xs:{column:4}},o.createElement(c.q,{htmlFor:"changePasswordOld"},o.createElement(c.K,{bold:!0},a.a._("Old password")))),o.createElement(c.b,{flex:"grow"},o.createElement(c.M,{autoComplete:"current-password",errorMessage:n[0],id:"changePasswordOld",name:"old",onChange:function(t){var n=t.value;return e.updateAndValidate("oldPassword",n)},type:"password",value:this.state.oldPassword}),o.createElement(c.b,{marginTop:1,overflow:"hidden"},o.createElement(c.c,{inline:!0,onClick:this.handleForgotPassword,text:a.a._("Forgot it?"),size:"md"})))),o.createElement(c.j,null)):null,o.createElement(y,{divide:!0,htmlFor:"changePasswordNew",label:a.a._("New password")},o.createElement(c.b,{flex:"grow"},o.createElement(c.M,{autoComplete:"new-password",errorMessage:r[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},type:"password",value:this.state.newPassword}))),o.createElement(y,{htmlFor:"changePasswordNewConfirm",label:a.a._("Type it again")},o.createElement(c.b,{flex:"grow"},o.createElement(c.M,{autoComplete:"new-password",errorMessage:s[0],id:"changePasswordNewConfirm",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},type:"password",value:this.state.repeatPassword}))))}}])&&d(n.prototype,w),g&&d(n,g),t}();t.a=w},RuD8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/fix_email-f5fbe7f8.png"},hGZ8:function(e,t,n){"use strict";var o=n("GyhR"),r=n("iz36"),a=n("KCDi"),i=n("2Npu");t.a=Object(i.a)(function(e){return o.createElement(r.a,{placementId:e.placementId,type:10},function(t){var n=t.complete,r=t.dismiss,i=t.display_data,s=i.link||e.linkUrl;return o.createElement(a.a,{duration:i.duration,href:s,text:i.text,onClick:function(){n(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&e.contextLog(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:function(){e.onHide(),e.completionOnDismissal?n():r()}})})})},kAB2:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("+U6O");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=["#4A90E2","#0FA573","#B469EB","#F13535","#E2780D"],f=120,m=800,h=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},b=function(e){return e*(Math.PI/180)},y=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),y=0;y<s;y++)c[y]=arguments[y];return r=this,a=(e=l(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==i(a)&&"function"!=typeof a?u(r):a,d(u(u(n)),"animationTimer",null),d(u(u(n)),"canvasRemovalTimer",null),d(u(u(n)),"containerRef",Object(o.createRef)()),d(u(u(n)),"buildCanvas",function(){if(!n.containerRef.current)return null;var e=n.containerRef.current.getBoundingClientRect(),t=e.height,o=e.width,r=2.5*t,a=document.createElement("canvas");return a.style.position="absolute",a.style.left="".concat(0-(r-o)/2,"px"),a.style.top="".concat(0-(r-t)/2,"px"),a.style.pointerEvents="none",a.style.width="".concat(r,"px"),a.style.height="".concat(r,"px"),a.style.overflow="visible",a.width=r,a.height=r,a}),d(u(u(n)),"explode",function(){var e=n.buildCanvas();if(e){var t=n.containerRef.current,o=e.getContext("2d");t.prepend(e);!function e(t,n,o,r){window.requestAnimationFrame(function(){return e(t,n,o,r)}),n.clearRect(0,0,o,r),t.forEach(function(e,t){e.x+=e.speed*Math.cos(b(e.degree)),e.y+=e.speed*Math.sin(b(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(Array.from(Array(f)).map(function(t,n){return{x:e.width/2,y:e.height/2,radius:Math.round(h(10,30)),color:p[Math.floor(Math.random()*p.length)],degree:Number(h(0,360).toFixed(1)),speed:Math.round(h(0,25)),friction:.9,opacity:Number(h(0,.5).toFixed(1)),yVel:0,gravity:.04}}),o,e.width,e.height),n.canvasRemovalTimer=setTimeout(function(){t.removeChild(e)},n.props.delay+m)}}),n}var n,y,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["PureComponent"]),n=t,(y=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,o=t.startAnimation,r=e.startAnimation;o&&r!==o&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return r.a.createElement(a.b,{ref:this.containerRef,position:"relative"},this.props.children)}}])&&s(n.prototype,y),w&&s(n,w),t}();d(y,"defaultProps",{delay:0}),t.a=y}}]);