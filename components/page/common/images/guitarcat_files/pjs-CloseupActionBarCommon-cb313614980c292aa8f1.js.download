(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CloseupActionBarCommon"],{g5uw:function(e,t,n){"use strict";n.r(t);var o=n("GyhR"),r=n.n(o),i=n("zPDt"),a=n("Ivf5"),l=n("THGe"),u=n("Qo1m"),c=n("2Npu"),s=n("9Y9K"),p=n("+4EY"),f=n("z/cr"),m=n("HoR0"),d=Object(s.compose)(Object(a.connect)(),c.a)(function(e){return r.a.createElement(p.a,null,function(t){var n=t.isImmersiveCloseup;return r.a.createElement(l.a,{accessibilityLabel:u.a._("Promote","Accessible label for button to promote this pin"),buttonColor:"lightGray",buttonText:u.a._("Promote","Text for button to promote this pin"),handleClick:function(){e.contextLog(101,{component:4,element:10639}),e.dispatch(Object(m.g)(e.pin))},inLegoCloseupView:n,icon:n?f.i:""})})}),b=n("iz36"),y=n("+U6O");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=function(e){function t(){var e,n,o,r,i,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return o=this,n=!(r=(e=E(t)).call.apply(e,[this].concat(c)))||"object"!==h(r)&&"function"!=typeof r?v(o):r,i=v(v(n)),l={paused:!1,showPulsar:!1},(a="state")in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onSendExperienceMount&&this.experience&&this.props.onSendExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&(this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0}))}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var n=e.getBoundingClientRect(),o=-(68+n.height/2),i=-(68-n.width/2);return r.a.createElement(y.b,{dangerouslySetInlineStyle:{__style:{position:"absolute",zIndex:1,marginTop:o,marginLeft:i,cursor:"pointer",pointerEvents:"none"}}},r.a.createElement(y.A,{paused:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,o=t.experienceIds,i=t.flyoutSize,a=t.idealDirection,l=t.placementId,u=t.shouldTimeoutDismiss,c=t.textOverflow,s=this.state.showPulsar;return r.a.createElement(b.a,{experienceIds:o,placementId:l,type:8},function(t){var o=t.complete,l=t.dismiss,p=t.display_data;return e.experience=t,p.has_pulsar||p.has_tooltip?(u&&p.disappearTime&&p.disappearTime>0&&(e.timer=setTimeout(function(){return l(),null},p.disappearTime)),r.a.createElement(y.b,{dangerouslySetInlineStyle:{__style:{zIndex:10}}},s&&e.renderPulsar(),p.has_tooltip&&(!p.has_pulsar||e.state.paused)&&r.a.createElement(y.k,{anchor:n,color:"blue",idealDirection:a||"down",onDismiss:function(){},shouldFocus:!1,size:i},r.a.createElement(y.b,{column:12,padding:3},r.a.createElement(y.K,{bold:!0,color:"white",size:"lg",overflow:c},p.text))))):(o(),null)})}}])&&g(n.prototype,o),i&&g(n,i),t}(),S=n("fifU"),O=n("iN5V"),x=n("OtLr"),P=n("UmN8");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"CloseupActionBar",function(){return R});var L=Object(o.lazy)(function(){return n.e("SecondarySendButtonCommon").then(n.bind(null,"ieLn"))}),R=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=B(t).call(this,e),n=!a||"object"!==j(a)&&"function"!=typeof a?T(i):a,D(T(T(n)),"sendExperienceComplete",function(){}),D(T(T(n)),"handleExternalSend",function(){n.sendExperienceComplete()}),D(T(T(n)),"onSendExperienceMount",function(e){e&&e.complete&&500946===e.experience_id&&(n.sendExperienceComplete=e.complete)}),D(T(T(n)),"promoteButtonRef",Object(o.createRef)()),n.sendButtonTooltipRef=r.a.createRef(),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.gridDescription,o=e.hidePromoteButton,a=e.hideButtons,l=e.imageSrc,u=e.inLegoCloseupView,c=e.isFlyoutOpen,s=e.isOnSecretBoard,p=e.onEditSubmit,m=e.onFlyoutDismiss,b=e.onToggleFlyout,h=e.pin,g=e.pinActionDropdown,E=e.promotedIsRemovable,_=e.saveButton,v=e.shareButtonRef,x=e.viewParameter,j=e.promoteButton,C=!E&&r.a.createElement(y.b,{marginStart:3},_),B=null;if(o)B=null;else if(j)B=r.a.createElement(r.a.Fragment,null,r.a.createElement(y.b,{ref:this.promoteButtonRef},r.a.createElement(y.b,{marginStart:u?0:3},j)),r.a.createElement(w,{experienceIds:[501121],idealDirection:"down",placementId:12,anchor:this.promoteButtonRef.current,flyoutSize:"lg"}));else if(h.is_quick_promotable){var I=Object(O.a)(".partnerCloseupPromoteButton")(d);B=r.a.createElement(y.b,{marginStart:u?0:3,"data-test-id":"closeupPromoteButtonWithPulsar"},r.a.createElement(I,{inLegoCloseupView:u,pin:h}))}var T=s?null:r.a.createElement(S.a,null,r.a.createElement(y.b,null,r.a.createElement("div",{ref:this.sendButtonTooltipRef},r.a.createElement(L,{pinId:h.id,gridDescription:n,imageSrc:l,inLegoCloseupView:u,onToggleFlyout:b,onFlyoutDismiss:m,shareButtonRef:v,onExternalSend:this.handleExternalSend,isFlyoutOpen:c,sendType:"pin"})),_&&!c&&r.a.createElement(w,{experienceIds:[500946],placementId:12,anchor:this.sendButtonTooltipRef.current,onSendExperienceMount:this.onSendExperienceMount}))),D=u?T:r.a.createElement(y.K,{align:"left"},T),R=r.a.createElement(P.a,{isEligible:a,name:"web_align_pin_action_bar_fpe"},function(e){var n=e.anyEnabled;return r.a.createElement(y.b,Object.assign({display:"flex",color:"white",justifyContent:a&&n?"end":"between",paddingX:u?0:6,paddingY:u?0:4,shape:"rounded"},u?{maxWidth:f.g}:{}),!a&&r.a.createElement(y.b,{display:"flex"},t&&r.a.createElement(y.b,{marginEnd:1},r.a.createElement(i.a,{carouselSlotCurrentIndex:h&&h.carousel_data&&h.carousel_data.index,inLegoCloseupView:u,pinId:h.id,onSubmit:p,view:3,viewParameter:x})),g),r.a.createElement(y.b,Object.assign({},u?{}:{dangerouslySetInlineStyle:{__style:{marginStart:"auto"}}},{alignItems:"center",display:"flex"}),T?D:null,B,!u&&C))});return r.a.createElement(r.a.Fragment,null,u?r.a.createElement(y.b,{display:"flex",justifyContent:"between"},R,C):R)}}])&&C(n.prototype,a),l&&C(n,l),t}();t.default=Object(x.a)(R)}}]);