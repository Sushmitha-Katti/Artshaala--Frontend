(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[115],{"2hPZ":function(e,t,n){"use strict";var r="undefined"!=typeof window&&window.performance?function(){return window.performance.now()}:function(){return Date.now()};t.a=function(e){var t=e.window,n=e.duration,o=e.run,i=r(),a=0,c=null,s=function e(){var s=r()-i,l=s-a;if(n===1/0)o(0,s,l);else{var u=s/n;if(u>=1)return void o(1,s,l);o(u,s,l)}a=s,c=t.requestAnimationFrame(e)};return{start:function(){c=t.requestAnimationFrame(s)},cancel:function(){c&&(t.cancelAnimationFrame(c),c=null)}}}},HW6o:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("Mr4W"),a=n.n(i),c=n("4+0X");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=new Map,y=null,b=function(e){e.forEach(function(e){var t=m.get(e.target);t&&t(e)})},h=function(e,t){var n={root:document.querySelector("#mainContainer"),rootMargin:"-64px 0px 0px 0px",threshold:[0,1]};y=y||new window.IntersectionObserver(b,n),m.set(e,t),y.observe(e)},v=function(e){return m.has(e)};t.a=function(e){var t=function(t){function n(){var e,t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,l=new Array(i),p=0;p<i;p++)l[p]=arguments[p];return r=this,o=(e=u(n)).call.apply(e,[this].concat(l)),t=!o||"object"!==s(o)&&"function"!=typeof o?f(r):o,d(f(f(t)),"seen",!1),d(f(f(t)),"flushTimeout",null),d(f(f(t)),"attachDenzelNavigateListener",function(){t.denzelNavigateListener=c.a.instance.subscribe("site","navigateStarted",function(e,n,r,o){var i=new RegExp("/pin/[\\w|-]+/$");!o&&r&&"string"==typeof r.url&&i.test(r.url)&&t.leave()})}),d(f(f(t)),"detachDenzelNavigateListener",function(){t.denzelNavigateListener&&(t.denzelNavigateListener.unsubscribe(),delete t.denzelNavigateListener)}),d(f(f(t)),"enter",function(e){var n=e.intersectionRatio>0||e.isIntersecting;t.seen=n,t.seen&&(t.props.onVisibilityChanged(!0),t.attachDenzelNavigateListener())}),d(f(f(t)),"leave",function(){var e=t._node;e&&v(e)&&t.seen&&(t.props.onVisibilityChanged(!1),t.seen=!1,t.detachDenzelNavigateListener())}),d(f(f(t)),"observe",function(){try{t._node=a.a.findDOMNode(f(f(t)))}catch(e){return}if(t._node){var e=t._node;h(e,function(n){if(m.has(e)){var r=t.props.trackFullVisible?n.intersectionRatio>=1:n.intersectionRatio>0||n.isIntersecting,o=t.props.trackFullVisible?0===n.intersectionRatio:!r;!t.seen&&r?t.enter(n):t.seen&&o&&t.leave()}})}}),t}var i,b,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,r.Component),i=n,(b=[{key:"componentDidMount",value:function(){this.observe()}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),function(e){y.unobserve(e),m.delete(e)}(e))}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}])&&l(i.prototype,b),w&&l(i,w),n}();return d(t,"displayName","WithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},dmIu:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("GyhR"),o=n.n(r),i=n("PNko"),a=n.n(i),c=n("Qo1m"),s=n("OLQZ"),l=n.n(s),u=n("+U6O"),p=n("v7Si");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={UP:"up",DOWN:"down"},w=100,g=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=m(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==f(o)&&"function"!=typeof o?b(r):o,h(b(b(n)),"handleScroll",l()(function(){if(!n.props.listResource.isFetching){var e=n.props.scrollThreshold;Object(p.c)(n._container)-Object(p.d)(n._container)-Object(p.a)(n._container)<e&&n.fetchMore()}},w)),h(b(b(n)),"addEventListeners",function(e){var t=n.props.useWindow;t&&(e=window),n.removeEventListeners(),e&&(t||e.addEventListener("wheel",n.preventScroll),e.addEventListener("scroll",n.handleScroll)),n._container=e}),h(b(b(n)),"preventScroll",function(e){var t=e.deltaY<0?v.UP:v.DOWN,r=n._container.scrollHeight-n._container.scrollTop-n._container.clientHeight==0,o=0===n._container.scrollTop;(t===v.DOWN&&r||t===v.UP&&o)&&e.preventDefault()}),n}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(i=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.onDataFetched,n=e.listResource.data;n&&t(n.length)}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"removeEventListeners",value:function(){var e=this.props.useWindow;this._container&&(e||this._container.removeEventListener("wheel",this.preventScroll),this._container.removeEventListener("scroll",this.handleScroll))}},{key:"fetchMore",value:function(){this.props.listResource.isFetching||(this.props.listResource.isAtEnd?this._container.removeEventListener("scroll",this.handleScroll):this.props.listResource.fetchMore())}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.renderEmptyState,r=e.renderItem,i=this.props.listResource.data;return!this.props.listResource.isFetching&&i&&0===i.length?n():o.a.createElement("div",{className:a()(t,"listContainer"),ref:this.addEventListeners},i?o.a.createElement("ul",{className:"scrollableList"},i.map(function(e,t){return r(e,t)})):null,this.props.listResource.isAtEnd?null:o.a.createElement("div",{className:"loadingItem"},o.a.createElement(u.G,{accessibilityLabel:c.a._("Loading items"),show:this.props.listResource.isFetching})))}}])&&d(n.prototype,i),s&&d(n,s),t}();h(g,"defaultProps",{onDataFetched:function(){},scrollThreshold:400,useWindow:!1})},lAPp:function(e,t,n){"use strict";n.r(t);var r=n("GyhR"),o=n.n(r),i=n("Fpqi"),a=n("PNko"),c=n.n(a),s=n("hvnN"),l=n.n(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={ONE:1,TWO:2,END:3},h=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=f(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==u(o)&&"function"!=typeof o?m(r):o,y(m(m(n)),"state",{educationStep:b.ONE}),y(m(m(n)),"toStepTwo",function(){n.setState({educationStep:b.TWO})}),y(m(m(n)),"dismissEducation",function(){var e=n.props.handleDismiss;n.setState({educationStep:b.END}),e()}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props.stepDelay;this.educationStepTimer=setTimeout(function(){e.state.educationStep<b.TWO&&e.setState({educationStep:b.TWO})},t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.educationStepTimer)}},{key:"renderPill",value:function(e,t,n){return o.a.createElement("button",{onClick:n,className:c()("educationPill","slideIn",{fadeOut:t})},o.a.createElement("div",{className:"message"},e))}},{key:"render",value:function(){var e=this.state.educationStep,t=this.props,n=t.titleText,r=t.titleText2,i=this.renderPill(n,e===b.TWO,this.toStepTwo),a=this.renderPill(r,e===b.END,this.dismissEducation);return o.a.createElement("div",{className:"newsHubEducation"},o.a.createElement("div",{className:"educationStep stepOne"},(e===b.ONE||e===b.TWO)&&i),o.a.createElement("div",{className:"educationStep stepTwo bottom"},(e===b.TWO||e===b.END)&&a))}}])&&p(n.prototype,i),a&&p(n,a),t}(),v=n("Qo1m"),w=n("rpur"),g=n("o9D8"),_=Object(g.a)(w.a),O=n("FBiG"),E=n("ePT2"),S=n("+U6O");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k=function(e){function t(){var e,n,r,o,i,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return r=this,o=(e=j(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==T(o)&&"function"!=typeof o?x(r):o,i=x(x(n)),c=function(){E.a.create("NewsHubResource").callDelete({showError:!1}).then(function(e){return n.props.handleClick()})},(a="handleButtonClick")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return o.a.createElement("div",{className:"newsHubMarkReadButton"},o.a.createElement(S.b,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(O.a,{accessibilityLabel:v.a._("Mark all as read","mark all the unread notifications as read"),shape:"pill",onClick:this.handleButtonClick},o.a.createElement(S.K,{size:"sm"},v.a._("Mark all as read","mark all the unread notifications as read")))))}}])&&P(n.prototype,i),a&&P(n,a),t}(),N=n("dmIu"),I=n("8rWZ"),C=n("OtLr"),L=n("FGWo"),R=n("9Y9K"),M=n("UmN8"),A=n("NmcB"),H=n("2YES"),W=n("Y2BC");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=4,K=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=U(t).call(this,e),n=!i||"object"!==F(i)&&"function"!=typeof i?V(r):i,Y(V(V(n)),"state",{shouldEducate:!1}),Y(V(V(n)),"onDataFetched",function(e){var t=n.props.experience;n.hasEarlier=!1,t&&e>G&&!n.state.shouldEducate&&n.setState({shouldEducate:!0})}),Y(V(V(n)),"handleItemClick",function(){n.handleComplete(),n.props.handleItemClick()}),Y(V(V(n)),"handleComplete",function(){var e=n.props,t=e.experienceClient,r=e.experience;r&&t.completeExperience(r.placement_id,r.experience_id)}),Y(V(V(n)),"handleDismiss",function(){var e=n.props,t=e.experienceClient,r=e.experience;r&&t.dismissExperience(r.placement_id,r.experience_id)}),Y(V(V(n)),"handleMarkAllButtonClicked",function(){n.props.newsHubResource.refreshData()}),Y(V(V(n)),"renderItem",function(e,t){var r={impressionAuxFields:{newsType:e.news_type},impressionType:"News",loggingId:e.id,slotIndex:t,viewParameter:3081,viewType:107};return o.a.createElement("li",{className:"newsHubItemWrapper",key:t},n.renderDate(e.last_updated_at,t),o.a.createElement(_,Object.assign({contentItemCount:e.content_item_count,contentItems:e.content_items,contentText:e.content_text,displayMode:e.encoded_display_mode,handleClick:n.handleItemClick,headerIconImageUrl:e.header_icon_image_url,headerIconObjects:e.header_icon_objects,headerText:e.header_text,id:e.id,lastUpdatedAt:e.last_updated_at,overrideClickUrl:e.override_click_url,subHeaderText:e.sub_header_text,siteType:n.props.siteType,textMapping:e.text_mapping,type:e.news_type,unread:e.unread},r)))}),Y(V(V(n)),"renderEmptyState",function(){return o.a.createElement(S.b,{height:400},o.a.createElement(S.b,{display:"flex",justifyContent:"center",color:"darkGray",shape:"pill",paddingY:5,margin:5},o.a.createElement(S.h,{xs:10},o.a.createElement(S.K,{bold:!0,color:"white",size:"lg"},v.a._("New! Discover ideas from your friends, followers and people who love your Pins!")))))}),n.hasEarlier=!1,n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,r["Component"]),n=t,(a=[{key:"getChildContext",value:function(){return{preloadingSupported:!0}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.experience,n=e.experienceClient;t&&n.viewExperience(t.placement_id,t.experience_id),this.logPanelImpression()}},{key:"getEducation",value:function(){var e=this.props.experience;if(this.state.shouldEducate&&e){var t=e.display_data,n=t.step_delay,r=t.title_text,i=t.title_text_2;return o.a.createElement(h,{handleDismiss:this.handleDismiss,stepDelay:n,titleText:r,titleText2:i})}return null}},{key:"logPanelImpression",value:function(){var e=i.a.getInstance(),t=e.getViewFromContext();Object(A.a)(13,{view:107,viewParameter:3081}),e.addViewToContext(t)}},{key:"renderDate",value:function(e,t){var n,r=new Date(e);if(r.setHours(0,0,0,0),0===t)this.firstDay=r,n=v.a._("New","subtitle for new notifications in notification dropdown");else{if(r.getTime()===this.firstDay.getTime()||this.hasEarlier)return null;n=v.a._("Earlier","subtitle for old notifications in notification dropdown"),this.hasEarlier=!0}return o.a.createElement("div",{className:"newsHubItemDate"},o.a.createElement(S.K,{bold:!0,size:"md",color:"gray"},n))}},{key:"renderTitle",value:function(){return o.a.createElement("div",{className:"newsHubTitle"},o.a.createElement(S.K,{bold:!0,inline:!0,size:"xl"},v.a._("Notifications","Title for news hub dropdown on the right upper corner in home page")),this.renderMarkReadButton())}},{key:"renderMarkReadButton",value:function(){var e=this;return o.a.createElement(M.a,{name:"news_hub_unread"},function(t){return t.anyEnabled?o.a.createElement(k,{handleClick:e.handleMarkAllButtonClicked}):null})}},{key:"render",value:function(){return o.a.createElement(I.a,{view:107,viewParameter:3081},o.a.createElement("div",null,this.getEducation(),this.renderTitle(),o.a.createElement(N.a,{className:"newsHubPanel",onDataFetched:this.onDataFetched,renderEmptyState:this.renderEmptyState,renderItem:this.renderItem,listResource:this.props.newsHubResource})))}}])&&z(n.prototype,a),c&&z(n,c),t}();Y(K,"childContextTypes",{preloadingSupported:l.a.bool.isRequired}),Y(K,"defaultProps",{handleItemClick:function(){}});var q=Object(R.compose)(H.e,Object(L.a)(1000035),C.a,Object(W.b)({name:"NewsHubResource",key:"newsHubResource",options:function(e){return{page_size:10}}},{allowStale:!1}))(K);function Q(e){var t=e.handleItemClick,n=e.locale,r=e.siteType;return o.a.createElement("div",{className:"NewsConversationsDropdown"},o.a.createElement("div",{className:"content"},o.a.createElement(q,{handleItemClick:t,locale:n,siteType:r})))}n.d(t,"default",function(){return Q})},o9D8:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n("GyhR"),o=(n("hvnN"),n("q579")),i=n("kIql"),a=n("HW6o"),c=n("9Y9K"),s=n("2Npu");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=o.a.getQueryStringParams()&&o.a.getQueryStringParams().debug_impression_log,h={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573}},v=1e6;function w(e){var t=Object(a.a)(e),n=function(e){function n(){var e,t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=f(n)).call.apply(e,[this].concat(a)),t=!o||"object"!==l(o)&&"function"!=typeof o?m(r):o,y(m(m(t)),"state",{impressionStarted:!1,impressionLogged:!1}),y(m(m(t)),"currentNs",function(){return Date.now()*v}),y(m(m(t)),"startTime",0),y(m(m(t)),"debugPinImpressions",b&&"Pin"===t.props.impressionType&&t.props.viewer.isEmployee),y(m(m(t)),"handleVisibilityChanged",function(e){var n=t.props,r=n.componentType,o=n.contextLog,i=n.contextLogData,a=n.impressionAuxFields,c=n.impressionType,s=n.loggingId,l=n.slotIndex,p=n.viewParameter,f=n.viewType,d=n.viewData;if(e)t.startTime=t.currentNs(),t.debugPinImpressions&&(console.log(l+" started timer"),t.setState({impressionStarted:!0}));else{var m,b=h[c],v=b.idType,w=t.currentNs(),g=u((y(m={endTime:w},v,s),y(m,"slotIndex",l),y(m,"time",t.startTime),y(m,"renderDuration",w-t.startTime),m),a);o(b.eventType,u({component:r,eventData:y({},b.impressionType,[g]),view:f,viewParameter:p,viewData:d},i)),t.debugPinImpressions&&(console.log(l+" logged for "+(w-t.startTime)/1e9+"s"),t.setState({impressionStarted:!1,impressionLogged:!0}))}}),t}var o,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,r["Component"]),o=n,(i=[{key:"render",value:function(){return r.createElement(t,Object.assign({onVisibilityChanged:this.handleVisibilityChanged,debugImpressionStarted:this.debugPinImpressions?this.state.impressionStarted:void 0,debugImpressionLogged:this.debugPinImpressions?this.state.impressionLogged:void 0},this.props))}}])&&p(o.prototype,i),a&&p(o,a),n}();return Object(c.compose)(s.a,i.a)(n)}},v7Si:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"f",function(){return d});var r=n("2hPZ");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},a={linear:function(e){return e},"ease-in":function(e){return e*e},"ease-out":function(e){return e*(2-e)},"ease-in-out":function(e){return e<.5?2*e*e:(4-2*e)*e-1}},c=function(e){var t=e.scrollPosition,n=e.containerSize,r=e.contentSize,o=e.intendedDistance,i=e.extendToEdgeDistance,a=void 0===i?0:i,c=r-n,s=c-t,l=-t,u=o;return u=Math.min(u,s),u=Math.max(u,l),o>0&&c-(t+u)<=a?u=c-t:o<0&&t+u<=a&&(u=-t),u},s=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},i,s),u=e.scrollLeft,p=e.scrollTop,f=e.scrollWidth,d=e.scrollHeight,m=e.clientWidth,y=e.clientHeight,b=c({scrollPosition:u,containerSize:m,contentSize:f,intendedDistance:t,extendToEdgeDistance:l.extendToEdgeDistanceX}),h=c({scrollPosition:p,containerSize:y,contentSize:d,intendedDistance:n,extendToEdgeDistance:l.extendToEdgeDistanceY}),v=Math.abs(Math.floor(b/l.scrollSpeedPxPerMs)),w=Math.abs(Math.floor(h/l.scrollSpeedPxPerMs)),g=Math.max(v,w);l.minScrollDuration&&(g=Math.max(g,l.minScrollDuration));var _=a[l.easingFunction]||a["ease-in-out"];return Object(r.a)({window:window,duration:g,run:function(t){e.scrollLeft=u+b*_(t),e.scrollTop=p+h*_(t),1===t&&l.onAnimationComplete&&setTimeout(l.onAnimationComplete(),0)}})};function l(e){return e===window?window.innerHeight:e.clientHeight}function u(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function p(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function f(e){return e===window?u():e.scrollTop}function d(){window&&window.scroll(0,0)}}}]);