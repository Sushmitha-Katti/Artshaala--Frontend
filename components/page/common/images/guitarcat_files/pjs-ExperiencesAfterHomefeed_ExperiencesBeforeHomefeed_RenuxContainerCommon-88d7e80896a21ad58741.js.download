(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~RenuxContainerCommon"],{UY39:function(e,t,n){},"xd+Y":function(e,t,n){},xjFC:function(e,t,n){},zEno:function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),o=n("Ivf5"),i=(n("UY39"),n("VSY/")),l=n("KrKF"),s=n("pjsG"),c=n("Qo1m"),u=n("7Tih"),d=(n("xjFC"),n("+U6O")),m=3,p=10,f=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"];var h=a.a.memo(function(){var e=function(){for(var e=[],t=0,n=0;n<p;n+=1){e.push([]);for(var r=0;r<m;r+=1){var o=f[t];e[n].push(a.a.createElement("div",{key:n+r,className:"NuxEducationLoaderGrid__column".concat(r)},a.a.createElement(d.b,{color:o,height:155,width:105,dangerouslySetInlineStyle:{__style:{borderRadius:8}}}))),(t+=1)>=f.length&&(t=0)}}return e}();return a.a.createElement("div",{className:"NuxEducationLoaderGrid"},e)});var b=a.a.memo(function(e){var t=e.selectedInterest,n={label:c.a._("Food and Drink","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},r={},o=t||n,i=o.label,l=o.images["400x"],s=l.url,u=l.height,m=l.width;r.domain=i.trim().toLowerCase().replace(/\s/g,"").concat(".com"),r.imageHeight=u,r.imageWidth=m,r.imageUrl=s;var p=r.domain,f=r.imageUrl,h=r.imageHeight,b=r.imageWidth;return a.a.createElement("div",{className:"NuxEducationLoaderPin","data-test-id":"nux-loader-pin"},a.a.createElement(d.b,{position:"relative"},a.a.createElement("div",{className:"NuxEducationLoaderPin__pinImage"},a.a.createElement(d.u,{shape:"rounded",height:310,width:210},a.a.createElement(d.p,{alt:c.a._("Pin image","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:h,naturalWidth:b,src:f})),a.a.createElement(d.b,{position:"absolute",top:!0,right:!0,marginTop:1,marginRight:1},a.a.createElement("div",{className:"NuxEducationLoaderPin__pinSaveButton"},a.a.createElement(d.c,{accessibilityLabel:c.a._("Save button"),color:"red",text:c.a._("Save","save button for nux loading step"),size:"md"}))),a.a.createElement(d.b,{position:"absolute",bottom:!0,left:!0,margin:2,maxWidth:"90%"},a.a.createElement("div",{className:"NuxEducationLoaderPin__pinLinkButton"},a.a.createElement(d.b,{padding:2,color:"lightGray",display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},a.a.createElement(d.b,null,a.a.createElement(d.n,{icon:"arrow-up-right",accessibilityLabel:c.a._("link","Pin website url link for nux loading step"),size:14,color:"darkGray"})),a.a.createElement(d.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},a.a.createElement(d.K,{bold:!0,size:"sm",truncate:!0},p))))))))}),g={backgroundColor:"#efefef"},y={transition:"width .4s ease-out"};function x(e,t){return Object.assign({},g,{height:e+"px",borderRadius:t})}function v(e,t,n){return Object.assign({},y,{backgroundColor:e,width:t+"%",borderRadius:n})}var w=function(e){var t=e.color,n=e.height,r=e.progress,o=e.outerBorderRadius,i=e.innerBorderRadius;return a.a.createElement(d.b,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:x(n,o)}},a.a.createElement(d.b,{height:"inherit",dangerouslySetInlineStyle:{__style:v(t,r,i)}}))};w.defaultProps={color:"#333",height:8,progress:0,outerBorderRadius:"10px",innerBorderRadius:"inherit"};var _=w,E=n("ePT2"),S=n("kIql"),N=n("9Y9K"),O=n("NmcB"),C=n("8Hll"),G=n("zlIe");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=P(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==j(a)&&"function"!=typeof a?T(r):a,L(T(T(n)),"state",{progressPercent:0}),L(T(T(n)),"incrementStepAndCompleteLoading",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux;(t(),r)||E.a.create("UserStateResource",{state:G.x,value:G.b}).callCreate()}),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatchSetNuxStepProgress,r=t.isRenux;r||E.a.create("UserStateResource",{state:G.x,value:G.C}).callCreate();n("loader"),Object(O.a)(13,{view:r?213:24,viewParameter:261}),this.intervalId=setInterval(function(){return e.setState(function(e){return{progressPercent:Math.min(e.progressPercent+100/17,100)}})},300)}},{key:"componentDidUpdate",value:function(e,t){this.state.progressPercent>=100&&(clearInterval(this.intervalId),setTimeout(this.incrementStepAndCompleteLoading,1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props,t=e.isRenux,n=e.selectedInterests,r=e.showProgressBar,o=this.state.progressPercent;return a.a.createElement("div",{className:"NuxEducationLoader","data-test-id":"nux-complete-loader"},a.a.createElement(d.b,{display:"flex",direction:"row",justifyContent:"center",alignItems:"center",overflow:"hidden"},a.a.createElement(d.b,{position:"relative",marginLeft:10,marginRight:4},a.a.createElement("div",{className:"NuxEducationLoader__loadingCopyContainer"},a.a.createElement(d.m,{size:"sm"},c.a._("All set!","Title for nux loading step")),a.a.createElement(d.b,{marginTop:4},t?c.a._("We're refreshing your home feed with lots of new Pins...","Details for ReNUX loading step"):c.a._("We're building your home feed with lots of Pins...","Details for nux loading step"))),a.a.createElement("div",{className:"NuxEducationLoader__pinEducationCopyContainer"},a.a.createElement(d.m,{size:"sm"},c.a._("Pins are ideas.","Pin education on NUX loading step")),a.a.createElement(d.b,{marginTop:5},c.a._("They are links saved from around the web","Pin education on NUX loading step")))),a.a.createElement(d.b,{marginRight:5,marginLeft:5,width:344},a.a.createElement(h,null)),a.a.createElement(d.b,null,a.a.createElement(b,{selectedInterest:n[0]}))),r?null:a.a.createElement(d.b,{position:"absolute",top:!0,width:"100%"},a.a.createElement(_,{height:8,color:"#e60023",progress:o})))}}])&&k(n.prototype,o),i&&k(n,i),t}(),A=Object(N.compose)(Object(o.connect)(null,function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))}}}),S.a)(R),H=n("vEea"),B=(n("xd+Y"),n("PNko")),z=n.n(B),F=n("UmN8"),U=n("k9eC"),D=n("2YES"),W=n("rPo8");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){var t,n=e.isChecked,o=e.label,i=e.selectGender,l=e.value,s=e.isHorizontal;switch(o){case G.h:t="end";break;case G.c:t="start";break;default:t="center"}var c=a.a.createElement(d.b,{alignItems:"center",display:"flex","data-test-id":"nux-gender-".concat(o,"-label"),height:40,justifyContent:t,width:"calc(800px / 3)"},a.a.createElement(d.q,{htmlFor:o},a.a.createElement(d.b,{alignItems:"center",display:"flex"},a.a.createElement(d.B,{checked:n,id:o,name:"genderOptions",onChange:i,size:"md",value:o}),a.a.createElement(d.b,{marginStart:2,width:o===G.c&&225},l))));return s?c:a.a.createElement(r.Fragment,null,a.a.createElement(d.b,{"data-test-id":"nux-gender-".concat(o,"-label")},a.a.createElement(d.q,{htmlFor:o},a.a.createElement("div",{className:"NuxGenderSelector"},a.a.createElement(d.b,{alignItems:"center",display:"flex",flex:"none",paddingX:8,paddingY:6},a.a.createElement(d.B,{checked:n,id:o,name:"genderOptions",onChange:i,size:"md",value:o}),a.a.createElement(d.b,{display:"flex",flex:"grow",marginStart:10},l))))),a.a.createElement(d.j,null))},V=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=this,o=(e=q(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==M(o)&&"function"!=typeof o?K(r):o,J(K(K(n)),"state",{customGender:"",gender:"",showCustomGenderDoneButton:!1,showCustomGenderTextfield:!1}),J(K(K(n)),"setCustomGender",function(e){e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):n.setState({showCustomGenderDoneButton:!1})}),J(K(K(n)),"updateCustomGender",function(e){var t=e.value;return n.setState({customGender:t,showCustomGenderDoneButton:t.length>0})}),J(K(K(n)),"renderOnHomefeed",function(){var e=n.state,t=e.customGender,r=e.gender,o=e.showCustomGenderDoneButton,i=e.showCustomGenderTextfield;return a.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},a.a.createElement(d.b,{alignItems:"around",display:"flex",height:"100%",marginTop:10},a.a.createElement(Q,{isChecked:!i&&r.toLowerCase()===G.h,label:G.h,selectGender:function(){return n.onSelectGender(G.h)},value:n.renderGenderLabel(c.a._("Female")),isHorizontal:!0}),a.a.createElement(Q,{isChecked:!i&&r.toLowerCase()===G.o,label:G.o,selectGender:function(){return n.onSelectGender(G.o)},value:n.renderGenderLabel(c.a._("Male")),isHorizontal:!0}),a.a.createElement(Q,{isChecked:i,label:G.c,selectGender:function(){return n.onSelectGender(G.c)},value:i?a.a.createElement(d.b,{"data-test-id":"nux-gender-custom-input"},a.a.createElement(d.M,{id:"customGender",onChange:n.updateCustomGender,placeholder:c.a._("Enter custom gender","placeholder text for custom gender text field"),type:"text",value:t})):n.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender")),isHorizontal:!0})),o&&a.a.createElement(d.b,{"data-test-id":"nux-gender-custom-done-btn"},a.a.createElement(d.c,{color:"red",disabled:!r&&!t,inline:!0,onClick:function(){return n.updateGenderCompleteStep()},text:c.a._("Done","button text for entering a custom gender type")})))}),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isRenux,n=e.setNuxGenderProgress;t||n(G.C)}},{key:"onSelectGender",value:function(e){var t=this.props.requestContext,n=this.state.showCustomGenderTextfield;e===G.c&&new U.d(t,"web_hide_custom_gender_field").enabled()?this.setState({gender:G.J,showCustomGenderTextfield:!1},this.updateGenderCompleteStep):e===G.c||n?this.setState({gender:"",customGender:"",showCustomGenderTextfield:!n,showCustomGenderDoneButton:!1}):this.setState({gender:e},this.updateGenderCompleteStep)}},{key:"setUserStateCompletedGenderStep",value:function(){var e=this.props,t=e.isRenux,n=e.setNuxGenderProgress;t||n(G.b)}},{key:"updateGenderCompleteStep",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.isRenux,a=t.updateGenderInfo,o=this.state,i=o.customGender,l=o.gender;a(o.showCustomGenderTextfield?{custom_gender:i.slice(0,30)}:{gender:l}).then(function(){e.setUserStateCompletedGenderStep(),Object(O.a)(101,{component:17,element:241,view:r?213:24,viewParameter:3120}),n()})}},{key:"submitHandler",value:function(e){e.preventDefault()}},{key:"renderGenderLabel",value:function(e){return this.props.inHomefeedExp?a.a.createElement(d.K,{size:"xl"},e):a.a.createElement(d.m,{size:"sm"},e)}},{key:"render",value:function(){var e=this,t=this.props.inHomefeedExp,n=this.state,o=n.showCustomGenderDoneButton,i=n.showCustomGenderTextfield;if(t)return this.renderOnHomefeed();var l=i?a.a.createElement("div",{className:z()("NuxGenderStep__genderOptionText")},a.a.createElement("input",{"data-test-id":"nux-gender-custom-input",className:"slimInput",name:"customGender",id:"customGenderTextField",onChange:this.setCustomGender,type:"text",placeholder:c.a._("Enter custom gender","placeholder text for custom gender text field")}),o?a.a.createElement("div",{"data-test-id":"nux-gender-custom-done-btn"},a.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{marginTop:"-6px"}}},a.a.createElement(d.c,{color:"red",inline:!0,onClick:function(){return e.updateGenderCompleteStep()},text:c.a._("Done","button text for entering a custom gender type")}))):null):a.a.createElement("div",{className:z()("NuxGenderStep__genderOptionTextNoHover")},c.a._("Non-binary","Non-binary label for custom gender")),s=o?G.n:G.m,u=c.a._("Enter custom gender","placeholder text for custom gender text field"),m=i?a.a.createElement(r.Fragment,null,a.a.createElement(d.b,{marginEnd:5},a.a.createElement("input",{className:"NuxGenderSelector","data-test-id":"nux-gender-custom-input",id:"customGender",onChange:this.setCustomGender,placeholder:u,style:s,type:"text"})),o&&a.a.createElement("div",{"data-test-id":"nux-gender-custom-done-btn"},a.a.createElement(d.c,{color:"red",inline:!0,onClick:function(){return e.updateGenderCompleteStep()},text:c.a._("Done","button text for entering a custom gender type")}))):this.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender")),p=a.a.createElement(d.b,null,a.a.createElement(d.j,null),a.a.createElement(Q,{isChecked:!i&&this.state.gender.toLowerCase()===G.h,label:G.h,selectGender:function(){return e.onSelectGender(G.h)},value:this.renderGenderLabel(c.a._("Female"))}),a.a.createElement(Q,{isChecked:!i&&this.state.gender.toLowerCase()===G.o,label:G.o,selectGender:function(){return e.onSelectGender(G.o)},value:this.renderGenderLabel(c.a._("Male"))}),a.a.createElement(Q,{isChecked:i,label:G.c,selectGender:function(){return e.onSelectGender(G.c)},value:m}));return a.a.createElement(F.a,{name:"web_gestalt_nux_gender"},function(t){return t.anyEnabled?p:a.a.createElement("div",{className:z()("NuxGenderStep__genderSelector")},a.a.createElement("form",{onSubmit:e.submitHandler,"aria-label":c.a._("Select your gender")},a.a.createElement("label",{className:i?z()("NuxGenderStep__genderOptionNoHover"):z()("NuxGenderStep__genderOption"),htmlFor:"female","data-test-id":"nux-gender-female-label"},a.a.createElement("div",{className:z()("NuxGenderStep__radioButtonWrapper")},a.a.createElement(d.B,{checked:!i&&e.state.gender.toLowerCase()===G.h,id:"female",name:"genderOptions",onChange:function(){return e.onSelectGender(G.h)},size:"md",value:G.h})),a.a.createElement("span",{className:z()("NuxGenderStep__genderOptionTextNoHover")},c.a._("Female"))),a.a.createElement("label",{className:i?z()("NuxGenderStep__genderOptionNoHover"):z()("NuxGenderStep__genderOption"),htmlFor:"male","data-test-id":"nux-gender-male-label"},a.a.createElement("div",{className:z()("NuxGenderStep__radioButtonWrapper")},a.a.createElement(d.B,{checked:!i&&e.state.gender.toLowerCase()===G.o,id:"male",name:"genderOptions",onChange:function(){return e.onSelectGender(G.o)},value:G.o})),a.a.createElement("span",{className:z()("NuxGenderStep__genderOptionTextNoHover")},c.a._("Male"))),a.a.createElement("label",{className:i?z()("NuxGenderStep__genderOptionSelected"):z()("NuxGenderStep__genderOptionLast"),htmlFor:"custom","data-test-id":"nux-gender-custom-label"},a.a.createElement("div",{className:z()("NuxGenderStep__radioButtonWrapper")},a.a.createElement(d.B,{checked:i||e.state.gender.toLowerCase()===G.J,id:"custom",name:"genderOptions",onChange:function(){return e.onSelectGender(G.c)},value:G.c})),l)))})}}])&&X(n.prototype,o),i&&X(n,i),t}(),Z=Object(N.compose)(Object(o.connect)(null,function(e,t){return{updateGenderInfo:function(t){return e(Object(W.f)({updateUserData:t}))},setNuxGenderProgress:function(t){return e(Object(W.a)(G.w,t))}}}),D.e)(V);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ae=function(e){function t(){var e,n,o,i,l,s,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,m=new Array(u),p=0;p<u;p++)m[p]=arguments[p];return o=this,i=(e=te(t)).call.apply(e,[this].concat(m)),n=!i||"object"!==$(i)&&"function"!=typeof i?re(o):i,l=re(re(n)),c=function(){var e=n.props,t=e.incrementNuxStep,o=e.isRenux,i=e.personalizationCopy.headerText;return a.a.createElement(r.Fragment,null,a.a.createElement(d.m,{overflow:"normal",size:"sm"},i),a.a.createElement(Z,{incrementNuxStep:t,inHomefeedExp:!0,isRenux:o}))},(s="renderOnHomefeed")in l?Object.defineProperty(l,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[s]=c,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux;t("gender"),Object(O.a)(13,{view:n?213:24,viewParameter:3120})}},{key:"render",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.isRenux,o=t.personalizationCopy,i=o.headerText,l=o.subHeaderText;return a.a.createElement(F.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():a.a.createElement(F.a,{name:"web_gestalt_nux_gender"},function(e){return e.anyEnabled?a.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",justifyContent:"around",paddingY:8,width:"100%"},a.a.createElement(d.b,{direction:"column",display:"flex",paddingX:8,dangerouslySetInlineStyle:{__style:{textAlign:"center"}}},a.a.createElement(d.m,{size:r?"xs":"sm"},i),r&&a.a.createElement(d.K,{align:"center",size:"xl"},l)),a.a.createElement(Z,{incrementNuxStep:n,isRenux:r})):a.a.createElement("div",{className:z()("NuxGenderStep")},r?a.a.createElement(d.b,{width:"480px",dangerouslySetInlineStyle:{__style:{margin:"60px 32px 16px"}}},a.a.createElement("h2",{style:G.F},i),a.a.createElement("h3",{style:G.G},l)):a.a.createElement("div",{className:z()("NuxGenderStep__headerContent")},a.a.createElement("h2",{style:(G.F,{fontSize:"36px"})},i)),a.a.createElement(Z,{incrementNuxStep:n,isRenux:r}))})})}}])&&ee(n.prototype,o),i&&ee(n,i),t}(),oe=Object(o.connect)(null,function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))}}})(ae),ie=n("JnXh"),le=n("TJ9f"),se=n("0oyM"),ce=function(e,t){return function(e,t,n){return{x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}}(t/2,e/2,2*Math.random()*Math.PI)};var ue,de,me={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#4A90E2",purple:"#B469EB"},pe="DelightfulBubbles__",fe=["".concat(pe,"fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n"),"".concat(pe,"growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n"),"".concat(pe,"swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n")].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(ue=Object.keys(me).map(function(e){var t,n,r,a,o=(t=Object.keys(me),n=e,r=t.length,a=t.indexOf(n)+1>=r?0:t.indexOf(n)+1,t[a]);return"".concat(pe,"colorChange_").concat(e," {\n      0% {\n        background-color: ").concat(me[e],";\n      }\n      50% {\n        background-color: ").concat(me[o],";\n      }\n    }\n    ")}))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(ue)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),he=(de=fe,["@-webkit-keyframes","@keyframes"].map(function(e){return de.map(function(t){return e+" "+t}).join("\n")}).join("\n"));function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){var t=e.delay,n=e.diameter,r=e.height,o=e.initialColor,i=e.width,l=e.xOffset,s=e.yOffset,c=function(e,t,n,r,a,o,i,l){return{bubblePositionStyles:{position:"absolute",marginLeft:"".concat(o/2-a,"px"),marginTop:"".concat(n/2-a,"px"),left:"".concat(i,"px"),top:"".concat(l,"px")},bubbleSwirlStyles:{animation:"".concat(pe,"swirl 6s ease-in-out ").concat(e,"s infinite forwards"),WebkitAnimation:"".concat(pe,"swirl 6s ease-in-out ").concat(e,"s infinite forwards")},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:"".concat(pe,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate"),WebkitAnimation:"".concat(pe,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate")},bubbleShapeStyles:{height:"".concat(t,"px"),width:"".concat(t,"px"),borderRadius:"50%",backgroundColor:me[r],opacity:0,animation:"".concat(pe,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(pe,"fadeIn 3s linear ").concat(e,"s 1 forwards"),WebkitAnimation:"".concat(pe,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(pe,"fadeIn 3s linear ").concat(e,"s 1 forwards")}}}(t,n,r,o,Math.floor(n/2),i,l,s);return a.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubblePositionStyles}},a.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubbleSwirlStyles}},a.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubbleGrowShrinkStyles}},a.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:c.bubbleShapeStyles}}))))},Ee=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,n=!(a=(e=ye(t)).call.apply(e,[this].concat(i)))||"object"!==be(a)&&"function"!=typeof a?ve(r):a,we(ve(ve(n)),"state",{isInitialized:!1}),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;this.requestAnimationFrameId=window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"shouldComponentUpdate",value:function(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}},{key:"getSize",value:function(){return void 0!==this.props.width&&void 0!==this.props.height?{height:this.props.height,width:this.props.width}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{}}},{key:"createBubbles",value:function(e,t){for(var n,r,o=this.props,i=o.bubbleSize,l=o.delayFactor,s=o.delayOffset,c=o.numBubbles,u=o.xRadiusAdjustment,d=e+2*o.yRadiusAdjustment,m=t+2*u,p=[],f=Object.keys(me),h=0;h<c;h+=1){var b=i+(n=-4,r=4,Math.floor(Math.random()*(r-n+1))+n),g=f[h%f.length],y=ce(d,m),x=y.x,v=y.y;p.push(a.a.createElement(_e,{delay:h*l+s,diameter:b,initialColor:g,xOffset:x,yOffset:v,height:e,width:t,key:h}))}return p}},{key:"render",value:function(){var e=this,t=this.getSize();return a.a.createElement(d.b,Object.assign({},t,{position:"relative"}),a.a.createElement("style",{dangerouslySetInnerHTML:{__html:he}}),a.a.createElement("div",{style:{position:"absolute"},ref:function(t){return e.containerElement=t}},this.state.isInitialized&&this.createBubbles(t.height||0,t.width||0),a.a.createElement(d.b,{position:"relative"},this.props.children)))}}])&&ge(n.prototype,o),i&&ge(n,i),t}();we(Ee,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var Se=Ee,Ne=n("hCBh");function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=250,Te=function(e){function t(){var e,n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),m=0;m<s;m++)u[m]=arguments[m];return o=this,l=(e=Ge(t)).call.apply(e,[this].concat(u)),n=!l||"object"!==Oe(l)&&"function"!=typeof l?ke(o):l,Pe(ke(ke(n)),"state",{name:n.props.personalizationCopy.inferredName,showNameInput:!1,showNoNameError:!1,showNameLengthError:!1}),Pe(ke(ke(n)),"onNameChange",function(e){var t=e.value;n.setState({name:t||"",showNoNameError:!t||i.h(t),showNameLengthError:!!t&&t.length>30})}),Pe(ke(ke(n)),"toggleNameInput",function(){n.setState(function(e){var t=e.showNameLengthError,n=e.showNoNameError,r=e.showNameInput;return{showNameInput:t||n||!r}}),Object(O.a)(101,{element:136,view:24,viewParameter:259})}),Pe(ke(ke(n)),"continueAndSave",function(){var e=n.props,t=e.incrementNuxStep,r=e.setNuxNameProgress,a=e.updateNameInfo,o=n.state.name;a(Object(Ne.a)(o)).then(function(){r(),Object(O.a)(101,{view:24,viewParameter:259}),t()})}),Pe(ke(ke(n)),"getError",function(){var e=n.state,t=e.showNameLengthError,r="";return e.showNoNameError?r=c.a._("And your name is...?","Error flyout when user doesn't input name"):t&&(r=c.a._("Hmm, that's a few characters too long. Try a nickname instead?","Name exceeds 30 character maximum error")),r}),Pe(ke(ke(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy,t=e.headerText,o=e.titleText,l=n.state,s=l.name,u=l.showNameInput,m=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:o,name:s}),p=o,f=n.getError(),h=a.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},a.a.createElement(d.o,{accessibilityLabel:c.a._("Edit name","Icon to edit name inferred from email"),bgColor:"transparent",icon:u?"check":"edit",onClick:n.toggleNameInput,size:"sm"}));return a.a.createElement(r.Fragment,null,a.a.createElement(d.b,{alignItems:"center",display:"flex",maxWidth:"100%"},a.a.createElement(d.m,{size:"sm",truncate:!0},u?p:m),u&&a.a.createElement(d.b,{"data-test-id":"nux-edit-name-input",marginLeft:2,width:Ie},a.a.createElement(d.M,{id:"name",errorMessage:f,onChange:n.onNameChange,placeholder:c.a._("Name","Inferred name textfield placeholder"),type:"text",value:s})),h),a.a.createElement(d.K,{align:"center",size:"xl"},t),a.a.createElement(d.b,{"data-test-id":"nux_name_done_btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},a.a.createElement(d.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!f,onClick:n.continueAndSave,text:c.a._("Next","next nux step button"),type:"button"})))}),n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.dispatchSetNuxStepProgress("welcome"),Object(O.a)(13,{view:24,viewParameter:259})}},{key:"render",value:function(){var e=this,t=this.props.personalizationCopy,n=t.headerText,r=t.homefeedButton,o=t.homefeedHeader,l=t.homefeedSubheader,s=t.titleText,u=this.state,m=u.name,p=u.showNameInput,f=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:s,name:m}),h=s,b=this.getError(),g=a.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},a.a.createElement(d.o,{accessibilityLabel:"editName",bgColor:"transparent",icon:p?"check":"edit",onClick:this.toggleNameInput,size:"sm"}));return a.a.createElement(F.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():a.a.createElement(F.a,{name:"web_gestalt_nux_modal",activate:!1},function(t){var i=t.anyEnabled;return a.a.createElement(F.a,{name:"web_welcome_name_homefeed_nux"},function(t){var s=t.anyEnabled,u=t.group,y=p?h:f,x=n;return"enabled_remove_edit_name"===u?y=f:"enabled_homefeed_copy"===u&&(y=o,x=l),a.a.createElement(d.b,{direction:"column",display:"flex",height:i?"100%":"90%",padding:10,minWidth:"100%"},a.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginBottom:10,width:"100%"},a.a.createElement(Se,{delayOffset:-5,xRadiusAdjustment:40},a.a.createElement(d.b,{alignItems:"end",display:"flex",height:140},a.a.createElement(d.b,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:100,justifyContent:"end",overflow:"hidden",shape:"circle",width:100},a.a.createElement(d.n,{accessibilityLabel:c.a._("Loading state for any sign up registration"),color:"gray",icon:"person",size:70,marginTop:"40px"})))),a.a.createElement(d.b,{alignItems:"end",display:"flex",paddingY:9,width:"100%"},a.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",marginStart:9,maxHeight:170,overflow:"hidden",width:"100%"},a.a.createElement(d.q,{htmlFor:"name"},a.a.createElement(d.m,{overflow:"normal",size:"sm"},y)),p&&!s&&a.a.createElement(d.b,{alignItems:"center","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",padding:1},a.a.createElement(d.b,{width:Ie},a.a.createElement(d.M,{id:"name",errorMessage:b,onChange:e.onNameChange,placeholder:c.a._("name"),type:"text",value:m})),g)),!p&&!s&&g),a.a.createElement(d.b,{paddingX:9},a.a.createElement(d.K,{align:"center",size:"xl"},x))),a.a.createElement(d.b,{"data-test-id":"nux_name_done_btn"},a.a.createElement(d.c,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!b,onClick:e.continueAndSave,text:"enabled_homefeed_copy"===u?r:c.a._("Next","next nux step button"),type:"button"})))})})})}}])&&Ce(n.prototype,o),l&&Ce(n,l),t}(),Le=Object(N.compose)(Object(o.connect)(null,function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(C.a)(t))},updateNameInfo:function(t){return e(Object(W.f)({updateUserData:t}))},setNuxNameProgress:function(){return e(Object(W.a)(G.A,G.b))}}}))(Te),Re=a.a.memo(Le),Ae=n("LaPN"),He=n("iVj4"),Be=n("JsRk");function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qe(e,t,n[t])})}return e}function Ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=We(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==ze(a)&&"function"!=typeof a?Xe(r):a,qe(Xe(Xe(n)),"state",{followedInterests:[],isLoading:!1,nuxStep:n.getNextStepIndex(-1,n.props.steps),selectedInterests:[]}),qe(Xe(Xe(n)),"onComplete",function(){var e=n.props,t=e.handleComplete,r=e.isLandingPage,a=e.isRenux,o=e.dispatchUpdateFirstHomeFeedRequestAfterNuxFlag;Object(O.a)(4105,{view:a?213:24,viewParameter:171}),a||o(!0),t(),r&&n.handleNavigate("/")}),qe(Xe(Xe(n)),"mounted",!1),qe(Xe(Xe(n)),"handleNavigate",function(e){var t=n.props.router;if(t)t.push(e);else{var r=new u.a;s.default.navigate(e,r)}}),qe(Xe(Xe(n)),"handleSelectedInterestsChange",function(e,t){n.setState(function(r,a){var o=n.getUpdatedSelectedInterests(r.selectedInterests,e,t),i=n.getUpdatedFollowInterests(r.followedInterests,e,t),l=a.dispatchSetNuxSelectedInterestImages;return a.isRenux||l(o.reduce(function(e,t){if(t&&t.images&&t.images["400x"]){var n={height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e},[])),{selectedInterests:o,followedInterests:i}})}),qe(Xe(Xe(n)),"nuxSteps",{NuxGenderStep:oe,NuxLocaleCountryStep:ie.a,NuxPicker:se.a,NuxExtensionUpsell:H.a,NuxEducationLoader:A,NuxWelcomeNameStep:Re}),n}var n,o,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props.isRenux;this.mounted=!0,Object(O.a)(4104,{view:e?213:24,viewParameter:170})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getUpdatedFollowInterests",value:function(e,t,n){var r=Ue(e);return t.forEach(function(e){var t=Fe({},e,{is_followed:n}),a=!1;r=r.map(function(e){return e.id===t.id?(a=!0,t):e}),a||r.push(t)}),r}},{key:"getUpdatedSelectedInterests",value:function(e,t,n){var r=Ue(e);return t.forEach(function(t){var a=Object(l.a)(r,t);n&&!a?r.push(Fe({},t,{is_followed:n})):!n&&a&&(r=e.filter(function(e){return e.id!==t.id}))}),r}},{key:"getPersonalizationCopy",value:function(e){var t,n,r,a=this.props,o=a.firstName,l=a.isRenux,s=a.requestContext,u=a.steps,d=e.moduleName,m=u.map(function(e){return e.moduleName}).indexOf(d)===u.length-2;switch(d){case"NuxWelcomeNameStep":return{inferredName:o,headerText:c.a._("Your answers to the next few questions will help us find the right ideas for you","header on nux welcome and name editing step"),titleText:c.a._("Welcome to Pinterest","greeting on welcome name step"),homefeedHeader:c.a._("Welcome to your homefeed!","Welcome step header focusing on homefeed"),homefeedSubheader:c.a._("Here is where you'll find inspiring ideas about things you love","Welcome step subheader explaining benefits of homefeed"),homefeedButton:c.a._("Personalize your feed","Welcome step button with personalizing feed call to action")};case"NuxGenderStep":if(t=c.a._("Welcome","Beginning of gender step greeting 'Welcome, <name>'"),new U.d(s,"web_nux_time_of_day_copy").enabled()){var p=(new Date).getHours();p>=4&&p<12?t=c.a._("Good morning","Beginning of gender step greeting 'Good morning, <name>' shown in morning"):p>=12&&p<17?t=c.a._("Good afternoon","Beginning of gender step greeting 'Good afternoon, <name>' shown in afternoon"):(p>=17||p<4)&&(t=c.a._("Good evening","Beginning of gender step greeting 'Good evening, <name>' shown in evening"))}return n=c.a._("How do you identify?","Header in NUX gender step."),r="",l&&(n=c.a._("It’s time to refresh your feed!","Title on the modal asking user's gender"),r=c.a._("How would you describe yourself?","Subtitle on the modal asking user's gender")),{headerText:n,subHeaderText:r};case"NuxLocaleCountryStep":t=c.a._("Almost done!","Title in NUX locale/country step");var f,h=c.a._("Almost done!","Title in NUX locale/country step");if(!this.hasNuxStep("NuxGenderStep")){if(t=i.c(c.a._("Welcome, {{ name }}!","Greeting with inferred name on country/locale step."),{name:o}),h=c.a._("Welcome,","Beginning of country/locale step greeting 'Welcome, <name>!'"),new U.d(s,"web_nux_time_of_day_copy").enabled()){var b=(new Date).getHours();b>=4&&b<12?t=i.c(c.a._("Good morning, {{ name }}","Beginning of gender step greeting 'Good morning, <name>' shown in morning"),{name:o}):b>=12&&b<17?t=i.c(c.a._("Good afternoon, {{ name }}","Beginning of gender step greeting 'Good afternoon, <name>' shown in afternoon"),{name:o}):(b>=17||b<4)&&(t=i.c(c.a._("Good evening, {{ name }}","Beginning of gender step greeting 'Good evening, <name>' shown in evening"),{name:o}))}f=i.c(c.a._("{{ name }}!","Continuation of country/locale step greeting 'Welcome, <name>!'"),{name:o})}return{titleText:t,titleTextExp:h,headerText:c.a._("Pick your language and country","Header in NUX locale/country step"),name:f};case"NuxPicker":return{headerText:n=m?c.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step."):c.a._("Tell us what you're interested in","Header in NUX topic picker step."),subHeaderText:i.c(c.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(G.f)}),homefeedHeader:c.a._("What are you into these days?","Simplified header on Nux topic picker step")};case"NuxExtensionUpsell":return{headerText:n=m?c.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."):c.a._("Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:c.a._("Quickly save any idea you find around the web","Subheader in NUX browser extension upsell step")};default:return{}}}},{key:"nuxStepToRender",value:function(e,t){var n=this,r=this.state,o=r.followedInterests,i=r.selectedInterests,l=this.props,s=l.isRenux,c=l.isSimpleRenux,u=l.requestContext,d=e.moduleName,m=this.nuxSteps[d],p=this.hasNuxStep("NuxGenderStep"),f=s&&!c&&new U.d(u,"web_renux_hide_followed_interests").enabledWithNoActivation();return a.a.createElement(D.a,null,function(r){return a.a.createElement(m,Object.assign({},e.options,{experiments:r.experiments,followedInterests:o,hasGenderStep:p,incrementNuxStep:n.incrementNuxStep(n.state.nuxStep),isSimpleRenux:c,isRenux:s,numberToFollow:f?G.B:G.f,onSelectedInterestsChange:n.handleSelectedInterestsChange,personalizationCopy:n.getPersonalizationCopy(e),requestContext:r,selectedInterests:i,showTableOfContents:t,toggleLoadingIndicator:function(e){return n.setState({isLoading:e})}}))})}},{key:"getNextStepIndex",value:function(e,t){for(var n=e+1;n<t.length&&t[n].isCompleted;)n+=1;return n}},{key:"incrementNuxStep",value:function(e){var t=this,n=this.props,r=n.steps,a=n.dispatchSubmitOrientationContextFollow,o=this.getNextStepIndex(e,r);return o>=r.length?this.onComplete:function(){var n=function(n){if(e!==n)return t.setState({nuxStep:n})};r.length>o&&r[o].options&&r[o].options.onStartApi?r[o].options.onStartApi===G.i?a().finally(n):n(o):n(o)}}},{key:"hasNuxStep",value:function(e){return this.props.steps.some(function(t){return t.moduleName===e})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.nuxStep,r=this.props,o=r.handleDismiss,i=r.isLandingPage,l=r.isPartner,s=r.isRenux,c=r.steps,u=function(e){return["NuxEducationLoader"].includes(e)},d=c.filter(function(e){return!u(e.moduleName)}),m=!u(c[n].moduleName)&&!i&&!s,p=m&&d.length>1&&!l,f=m&&!p,h=!(!s||u(c[n].moduleName));return a.a.createElement(le.a,{displayHide:h,isLoading:t,nuxStep:c[n],onHide:o,showCounter:f,showTableContents:p,steps:d},this.nuxStepToRender(c[n],p))}}])&&De(n.prototype,o),d&&De(n,d),t}();qe(Ye,"defaultProps",{isRenux:!1,isSimpleRenux:!1});t.a=Object(N.compose)(D.e,Object(o.connect)(function(e){var t=e.viewer;return{isPartner:t.isAuth&&t.isPartner,firstName:t.firstName?t.firstName:""}},function(e){return{dispatchSetNuxSelectedInterestImages:function(t){return e(function(e){return{type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:e}}}(t))},dispatchSubmitOrientationContextFollow:function(){return e(Object(W.c)())},dispatchUpdateFirstHomeFeedRequestAfterNuxFlag:function(t){return e(Object(W.d)(t))}}}),S.a,He.a,Ae.a,Be.withRouter)(Ye)}}]);