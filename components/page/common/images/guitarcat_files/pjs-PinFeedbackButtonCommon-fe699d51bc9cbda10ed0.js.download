(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinFeedbackButtonCommon",30],{CtGn:function(e,t,n){"use strict";var o=n("GyhR");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];return o=this,i=(e=a(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==r(i)&&"function"!=typeof i?l(o):i,u(l(l(n)),"state",{hovered:!1,active:!1,focused:!1}),u(l(l(n)),"handleBlur",function(){n.setState({focused:!1})}),u(l(l(n)),"handleFocus",function(){n.setState({focused:!0})}),u(l(l(n)),"handleMouseDown",function(){n.setState({active:!0})}),u(l(l(n)),"handleMouseEnter",function(){n.setState({hovered:!0})}),u(l(l(n)),"handleMouseLeave",function(){n.setState({active:!1,hovered:!1})}),u(l(l(n)),"handleMouseUp",function(){n.setState({active:!1})}),n}var n,s,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["Component"]),n=t,(s=[{key:"render",value:function(){var e=this.state,t=e.active,n=e.focused,o=e.hovered,r=this.handleBlur,i=this.handleFocus,a=this.handleMouseDown,c=this.handleMouseEnter,l=this.handleMouseLeave,u=this.handleMouseUp;return this.props.children({active:t,focused:n,hovered:o,onBlur:r,onFocus:i,onMouseDown:a,onMouseEnter:c,onMouseLeave:l,onMouseUp:u})}}])&&i(n.prototype,s),p&&i(n,p),t}();t.a=s},Kb0Y:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n("GyhR"),r=n.n(o),i=n("+U6O");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"},d=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return o=this,r=(e=l(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==a(r)&&"function"!=typeof r?s(o):r,p(s(s(n)),"state",{hovered:!1}),p(s(s(n)),"handleMouseEnter",function(e){return n.setState({hovered:!0})}),p(s(s(n)),"handleMouseLeave",function(e){return n.setState({hovered:!1})}),n}var n,d,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["PureComponent"]),n=t,(d=[{key:"render",value:function(){var e=this.props,t=e.bold,n=e.icon,o=e.text,a=e.description,c=e.isContextMenuV2Exp,l=Array.isArray(o)?o.join(""):o;return r.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement(i.b,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",display:"flex",direction:"row",overflow:"hidden",paddingX:4,paddingY:2,marginStart:-1,marginEnd:-1,title:l},!c&&n&&r.a.createElement(i.b,{flex:"none",padding:1},"unfollow"===n?r.a.createElement(i.n,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:f,size:16}):r.a.createElement(i.n,{accessibilityLabel:"",color:"darkGray",icon:n,size:16})),r.a.createElement(i.b,{flex:"grow",display:"flex",direction:c?"row":"column",padding:1,width:"100%",alignItems:c?"center":"start"},r.a.createElement(i.K,{bold:t,size:c?"sm":"md",color:"darkGray"},o),r.a.createElement(i.b,{display:"flex",alignItems:"center"},!c&&a&&r.a.createElement(i.b,{marginTop:1},r.a.createElement(i.K,{color:"darkGray",overflow:"normal"},a))))))}}])&&c(n.prototype,d),b&&c(n,b),t}();p(d,"defaultProps",{bold:!0})},VUfZ:function(e,t){e.exports={ReasonToChoose:{UNKNOWN:0,REPIN_BOARD:1,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,USER_ACTIVITY:4,FOLLOWED_INTEREST:5,RECENT_FOLLOWED_INTEREST:59,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,CLICKTHROUGH:9,BOARD_FOLLOW:35,RECENT_FOLLOWED_BOARD:61,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,LOCAL_REPIN_BOARD:13,SEARCH:46,P2P:14,PROMOTED_PIN:15,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_COMMERCE:21,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLICKTHROUGH:28,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,INSTANT_PFY:34,INSTANT_PFY_NON_MATERIALIZABLE:36,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,RECOMMENDED_TOPICS:65,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS:70,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,NAVBOOST_P2P:88,NAVBOOST_PFY:89,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS:97,NUX_GRAPHSAGE:99,TOPIC_BEST_PINS_V3:101,GEMINI_INTERESTS_FRESH:104,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515}}},YOfJ:function(e,t,n){"use strict";var o=n("GyhR"),r=n("jE+E");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,n,o,r,c,u,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,d=new Array(f),b=0;b<f;b++)d[b]=arguments[b];return o=this,r=(e=l(t)).call.apply(e,[this].concat(d)),n=!r||"object"!==i(r)&&"function"!=typeof r?s(o):r,c=s(s(n)),p=function(){var e=n.props,t=e.setActive,o=e.showOnTopOfModal;t("flyout",a(e,["setActive","showOnTopOfModal"]),o||!1)},(u="renderFlyout")in c?Object.defineProperty(c,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[u]=p,n}var n,r,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.renderFlyout()}},{key:"componentDidUpdate",value:function(){this.renderFlyout()}},{key:"componentWillUnmount",value:function(){this.props.setActive()}},{key:"render",value:function(){return null}}])&&c(n.prototype,r),p&&c(n,p),t}(),f=function(e){return o.createElement(r.a.Consumer,null,function(t){return o.createElement(p,Object.assign({},e,{setActive:t}))})};f.displayName="MasonryFlyout",t.a=f},aaO7:function(e,t,n){"use strict";function o(e,t,n,o){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:o}}}function r(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function i(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c})},ce8s:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),i=n("CtGn");t.a=function(e){var t=e.accessibilityLabel,n=e.children,o=e.className,a=e.dataTestId,c=e.onClick,l=e.style;return r.a.createElement(i.a,null,function(e){var i=e.active,u=e.focused,s=e.hovered,p=e.onBlur,f=e.onFocus,d=e.onMouseDown,b=e.onMouseEnter,y=e.onMouseLeave,m=e.onMouseUp;return r.a.createElement("button",{"data-test-id":a,"aria-label":t,style:l,onBlur:p,onFocus:f,onMouseDown:d,onMouseEnter:b,onMouseLeave:y,onMouseUp:m,onClick:c,className:o},n({active:i,focused:u,hovered:s}))})}},d9lF:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),i=n("ce8s"),a=n("+U6O");function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},s=function(e){var t=e.accessibilityLabel,n=e.active,o=e.focused,i=e.hovered,l=e.icon,s=e.isSVG,p={borderRadius:"50%"};return i&&(p=c({},p,{backgroundColor:"rgb(226, 226, 226)"})),n&&(p=c({},p,{backgroundColor:"rgb(218, 218, 218)"})),o&&(p=c({},p,u)),r.a.createElement(a.b,{"data-test-id":"lego-icon-wrapper",color:"transparent",shape:"circle",dangerouslySetInlineStyle:{__style:p}},r.a.createElement(a.b,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:44,minWidth:44}}},s&&r.a.createElement(a.n,{accessibilityLabel:t,dangerouslySetSvgPath:{__path:l},color:"darkGray",inline:!0,size:20}),!s&&r.a.createElement(a.n,{accessibilityLabel:t,icon:l,color:"darkGray",inline:!0,size:20})))};t.a=function(e){var t=e.accessibilityLabel,n=e.handleClick,o=e.icon,a=e.isSVG,c=e.shadowType;return r.a.createElement(i.a,{accessibilityLabel:t,className:c||"",dataTestId:"lego-button",onClick:n,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"}},function(e){var n=e.active,i=e.hovered,c=e.focused;return r.a.createElement(s,{active:n,accessibilityLabel:t,hovered:i,focused:c,icon:o,isSVG:a})})}},"jE+E":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("GyhR"),r=n.n(o),i=(n("hvnN"),n("+U6O"));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=r.a.createContext(function(){}),d=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return o=this,r=(e=l(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==a(r)&&"function"!=typeof r?s(o):r,p(s(s(n)),"state",{flyout:void 0,showOnTopOfModal:!1,tooltip:void 0}),p(s(s(n)),"setActive",function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){p(e,t,n[t])})}return e}({},t,{onDismiss:function(){t&&t.onDismiss&&(t.onDismiss(),n.setState({flyout:void 0,tooltip:void 0}))}});"flyout"===e&&(i.positionRelativeToAnchor=!1),n.setState((p(r={},e,{props:i}),p(r,"showOnTopOfModal",o),r))}else n.setState({flyout:void 0,tooltip:void 0})}),n}var n,d,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["Component"]),n=t,(d=[{key:"render",value:function(){var e=this.state,t=e.flyout,n=e.tooltip,o=e.showOnTopOfModal;return r.a.createElement("div",null,r.a.createElement(f.Provider,{value:this.setActive},this.props.children),r.a.createElement("div",(t||n)&&o?{style:{zIndex:752,position:"absolute",top:0}}:{},t&&r.a.createElement(i.k,t.props),n&&r.a.createElement(i.k,Object.assign({},n.props,{color:"darkGray",shouldFocus:!1,size:"md"}),r.a.createElement(i.b,{column:12,padding:3},n.props.children))))}}])&&c(n.prototype,d),b&&c(n,b),t}();t.b=d},nZV1:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var o=n("ePT2"),r=function(){};var i={complaint:function(e,t){o.a.create("PinFeedbackResource",e).callUpdate().then(function(){return t()})},enablePFY:function(e,t){o.a.create("PFYPreferenceResource",e).callCreate().then(function(){return t()})},followBoard:function(e,t){o.a.create("BoardFollowResource",e).callCreate().then(function(){return t()})},followPinner:function(e,t){o.a.create("UserFollowResource",e).callCreate().then(function(){return t()})},followTopic:function(e,t){o.a.create("InterestFollowResource",e).callCreate().then(function(){return t()})},newsHubPinHide:function(e,t){o.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(function(){return t()})},promotedComplaint:function(e,t){o.a.create("PinFeedbackResource",e).callUpdate().then(function(){return t()})},relatedPinHide:function(e,t){o.a.create("RelatedPinFeedbackResource",e).callUpdate().then(function(){return t()})},reportPin:function(e,t){t()},unfollowBoard:function(e,t){o.a.create("BoardFollowResource",e).callDelete().then(function(){return t()})},unfollowPinner:function(e,t){o.a.create("UserFollowResource",e).callDelete().then(function(){return t()})},unfollowTopic:function(e,t){o.a.create("InterestFollowResource",e).callDelete().then(function(){return t()})},unrelatedSearchPin:function(e,t){o.a.create("SearchPinFeedbackResource",e).callUpdate().then(function(){return t()})}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=i[e];return o?o(t,n):n()}},w8LQ:function(e,t,n){"use strict";n.r(t),n.d(t,"PinFeedbackButton",function(){return I});var o=n("GyhR"),r=n.n(o),i=n("Ivf5"),a=n("Qo1m"),c=n("d9lF"),l=n("YOfJ"),u=n("wSOZ"),s=n("9Y9K"),p=n("UmN8"),f=n("NmcB"),d=n("aaO7"),b=n("OtLr"),y=n("+U6O");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return o=this,r=(e=h(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==m(r)&&"function"!=typeof r?T(o):r,O(T(T(n)),"state",{showPinFeedbackFlyout:!1}),O(T(T(n)),"setAnchor",function(e){n.anchor=e}),O(T(T(n)),"showConfirmation",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(d.a)(o,{title:a.a._("Pin reported.")}))}),O(T(T(n)),"handleFeedbackButtonClick",function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),n.state.showPinFeedbackFlyout?n.dismissFlyout():n.setState({showTooltipFlyout:!1},function(){n.setState({showPinFeedbackFlyout:!0})}),n.handleButtonClickLogging()}),O(T(T(n)),"dismissFlyout",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(d.c)(o)),n.setState({showPinFeedbackFlyout:!1,showTooltipFlyout:!1})}),O(T(T(n)),"dismissTooltipFlyout",function(){var e=n.props,t=e.isHomefeedContextualMenuTooltip,o=e.experienceClient;n.setState({showTooltipFlyout:!1,showPinFeedbackFlyout:!1},function(){n.setState({showPinFeedbackFlyout:!0})}),t&&o.completeExperience(1000116,501093),n.handleButtonClickLogging()}),O(T(T(n)),"handleLinkClick",function(){n.state.showPinFeedbackFlyout&&n.dismissFlyout()}),n}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o["Component"]),n=t,s=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.isHomefeedContextualMenuTooltip,o=e.experienceClient;return n&&void 0===t.showTooltipFlyout?(o.viewExperience(1000116,501093),{showTooltipFlyout:!0}):null}}],(i=[{key:"handleButtonClickLogging",value:function(){var e=this.props,t=e.feedbackType,n=e.pinId,o=e.viewParameter,r=e.viewType;Object(f.a)(101,{objectId:n,view:r,viewParameter:o,element:981,component:0,feedback_type:t})}},{key:"renderPinFeedback",value:function(){var e=this,t=this.props,n=t.ad_match_reason,o=t.board,i=t.feedbackType,a=t.feedbackData,c=t.hideDownload,l=t.pinId,s=t.pinImage,f=t.bestPinImgSrc,d=t.pinDescription,b=t.pinTitle,y=t.pinCategory,m=t.pinner,_=t.promoter,h=t.recommendationReason,E=t.reportPin,T=t.sourceInterest,O=t.viewParameter,I=t.viewType;return r.a.createElement(p.a,{name:"web_homefeed_control_contextual_menu_v2"},function(t){var p=t.anyEnabled;return r.a.createElement(u.a,{ad_match_reason:n,board:o,feedbackType:i,feedbackData:a,hideDownload:!!c,isContextMenuV2Exp:p,onContentChanged:function(){return e.forceUpdate()},onLinkClick:e.handleLinkClick,onHide:e.dismissFlyout,pinId:l,pinImgSrc:s,bestPinImgSrc:f,pinDescription:d,pinCategory:y,pinTitle:b,pinner:m,promoter:_,recommendationReason:h,reportPin:E,sourceInterest:T,viewParameter:O,viewType:I})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.inLegoCloseupView,o=void 0!==n&&n,i=t.isPromoted,u=this.state,s=u.showTooltipFlyout,f=u.showPinFeedbackFlyout;return r.a.createElement(y.b,null,r.a.createElement(y.b,{ref:this.setAnchor},o&&i?r.a.createElement(c.a,{accessibilityLabel:a.a._("send feedback","accessibility lable to send feedback regarding the promoted pin"),handleClick:function(t){return e.handleFeedbackButtonClick({event:t})},icon:"ellipsis"}):r.a.createElement(y.o,{accessibilityLabel:a.a._("More information"),icon:"ellipsis",iconColor:"gray",onClick:this.handleFeedbackButtonClick,size:this.props.size})),!f&&s&&r.a.createElement(l.a,{anchor:this.anchor,idealDirection:"right",onDismiss:this.dismissTooltipFlyout,size:"sm",color:"blue"},r.a.createElement(y.b,{padding:4},r.a.createElement(y.K,{color:"white",bold:!0,size:"lg"},a.a._("Click here to hide a Pin you don't like","Tooltip text showing how to hide a Pin")),r.a.createElement(y.b,{marginTop:5},r.a.createElement(y.c,{color:"white",text:a.a._("Got it!","Dismiss button for tooltip"),onClick:this.dismissTooltipFlyout,size:"sm"})))),f&&r.a.createElement(l.a,{anchor:this.anchor,idealDirection:"right",onDismiss:this.dismissFlyout,size:"md"},this.renderPinFeedback()),s&&r.a.createElement(p.a,{name:"web_homefeed_control_contextual_menu_v2",activate:!1},function(t){var n=t.group;return n.includes("enabled")&&n.includes("pulsar")&&r.a.createElement(y.b,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(y.b,{shape:"circle",width:90,height:90,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}}},r.a.createElement(y.P,{onTouch:e.dismissTooltipFlyout,shape:"circle"},r.a.createElement(y.A,{size:90}))))}))}}])&&_(n.prototype,i),s&&_(n,s),t}();O(I,"defaultProps",{size:"xs"}),t.default=Object(s.compose)(Object(i.connect)(),b.a)(I)},wSOZ:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),i=n("Ivf5"),a=n("wxfF"),c=n("Kb0Y"),l=n("rSK6"),u=n("Qo1m"),s=n("iJ35"),p=n("E/Qu"),f=n("9Y9K"),d=n("JU/q"),b=n("Irlq"),y=n("VUfZ"),m=n("NmcB"),_=n("JsRk"),h=n("aaO7"),E=n("2YES"),T=n("+U6O"),O=n("nZV1");function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){N(e,t,n[t])})}return e}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={color:"white",textDecorationColor:"white"},C=function(e){function t(e){var n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=S(t).call(this,e),n=!i||"object"!==I(i)&&"function"!=typeof i?R(o):i,N(R(R(n)),"getRecommendationDescription",function(){var e=n.props,t=e.ad_match_reason,o=e.board,r=e.feedbackType,i=e.pinner,a=e.promoter,c=e.recommendationReason,l=e.sourceInterest;return n.feedbackHelpers.getRecommendationDescription({ad_match_reason:t,board:o,feedbackType:r,makeNavigateLink:n.makeNavigateLink,pinner:i,promoter:a,recommendationReason:c,sourceInterest:l})}),N(R(R(n)),"getRecommendationDescriptionImage",function(){var e,t,o,i=n.props,a=i.board,c=i.feedbackType,l=i.pinner,u=i.recommendationReason;return"followed"!==c&&"pfyBoard"!==c?null:(l&&l.explicitly_followed_by_me?(e=l.image_small_url,t="50%",o="/".concat(l.username)):a&&a.image_thumbnail_url&&(e=a.image_thumbnail_url,t="4px",o=u&&u.board&&u.board.url||a.url),e?r.a.createElement(T.b,{marginStart:3,flex:"none",dangerouslySetInlineStyle:{__style:{borderRadius:t}},overflow:"hidden"},r.a.createElement(T.P,{onTouch:function(){return n.props.router.push(o)}},r.a.createElement(T.u,{width:40,height:40,wash:!0},r.a.createElement(T.p,{src:e,naturalHeight:1,naturalWidth:1,alt:"",fit:"cover"})))):null)}),N(R(R(n)),"getUnfollowAction",function(){var e=n.props,t=e.board,o=e.feedbackType,r=e.pinner,i=e.sourceInterest;return n.feedbackHelpers.getUnfollowAction({board:t,feedbackType:o,makeNavigateLink:n.makeNavigateLink,pinner:r,sourceInterest:i})}),N(R(R(n)),"getUndoText",function(e){return"unfollowPinner"===e||"unfollowBoard"===e?u.a._("Follow again","Caption for button to undo a unfollowing of a topic"):""}),N(R(R(n)),"generateUndoHideCallback",function(e,t){return function(){var o=n.props,r=o.dispatch,i=o.pinId,a=o.viewType,c=o.viewParameter,l=P({},e,{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),Object(O.a)(u,l),r(Object(h.b)(i)),Object(m.a)(101,{component:0,element:11181,view:a,viewParameter:c})}}),N(R(R(n)),"feedbackHelpers",Object(l.a)({i18n:u.a,interpolateNamedTemplate:b.b,isContextMenuV2Exp:n.props.isContextMenuV2Exp})),N(R(R(n)),"makeNavigateLink",function(e,t,o,i){var a=P({display:"inline"},i?k:{});return r.a.createElement(s.b,{className:"underlineLink",key:e,to:t,onClick:n.props.onLinkClick},r.a.createElement(T.b,{dangerouslySetInlineStyle:{__style:a}},o))}),N(R(R(n)),"reportPinOption",function(){return{action:"reportPin",elementType:974,icon:"report",text:n.props.isContextMenuV2Exp?u.a._("Report Pin","Report a pin in the dropdown"):u.a._("Report","Report a pin in the dropdown"),description:u.a._("This goes against Pinterest's community guidelines","Description for the report pin option"),callback:n.props.reportPin}}),N(R(R(n)),"hidePinOption",function(e){var t=n.props,o=t.feedbackData,r=t.feedbackType,i=t.pinId,a=t.isContextMenuV2Exp,c=t.recommendationReason,l="search"===r?973:982,s=n.feedbackHelpers.getHidePinAction({feedbackData:o,feedbackType:r,pinId:i,recommendationReasonId:a&&c&&c.reason&&y.ReasonToChoose[c.reason],pinFeedbackType:a&&("pfy"===r?4:10),throughId:c&&n.getThroughId()}),p=s.action,f=s.actionOptions,d=a&&"promoted"!==r?u.a._("I don't like this Pin","message displayed in pin feedback list"):u.a._("Hide","message for the hide pin option");return{action:p,actionOptions:f,feedbackText:n.pinHiddenFeedbackText(e),icon:"cancel",text:d,description:u.a._("See fewer Pins like this","Description for the hide pin option"),elementType:l}}),N(R(R(n)),"stopRecommendationOption",function(){var e=n.props,t=e.feedbackData,o=e.feedbackType,r=e.pinId,i=e.recommendationReason,a=i.board,c=i.reason,l=c&&y.ReasonToChoose[c],s=i&&n.getThroughId(),p="pfyBoard"===o,f=n.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:o,pinId:r,recommendationReasonId:l,pinFeedbackType:p?2:4,throughId:s}),d=f.action,m=f.actionOptions,_=!!a&&n.makeNavigateLink("boardUrl",a.url,a.name,!0);return{action:d,actionOptions:m,feedbackText:{subTitle:p&&a?Object(b.b)(u.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:_}):u.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin")},text:p&&a?Object(b.b)(u.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:a.name}):u.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),N(R(R(n)),"unfollowBoardOption",function(){var e=n.props,t=e.board,o=e.isContextMenuV2Exp,r=n.makeNavigateLink("boardUrl",t.url,t.name,!0),i=o?Object(b.b)(u.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:t.name}):u.a._("Unfollow board","Primary caption displayed in pin feedback list to unfollow a board"),a=o?Object(b.b)(u.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board"),{formattedBoard:r}):Object(b.b)(u.a._("You’ve unfollowed the board {{ formattedBoard }}.\n         You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedBoard:r});return{action:"unfollowBoard",actionOptions:{board_id:t.id},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain board"),subTitle:a},icon:"unfollow",text:i,description:Object(b.b)(u.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:t.name}),elementType:10614}}),N(R(R(n)),"unfollowTopicOption",function(){var e=n.props,t=e.sourceInterest,o=e.isContextMenuV2Exp;if(t){var r=t.id,i=t.name,a=t.url_name,c="/topics/".concat(a),l=n.makeNavigateLink("topicUrl",c,i,!0),s=o?Object(b.b)(u.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:i}):u.a._("Unfollow topic","Primary caption displayed in pin feedback list to unfollow a topic"),p=o?Object(b.b)(u.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:l}):Object(b.b)(u.a._("Got it! We won’t show you Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:r,interest_list:d.a},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain topic"),subTitle:p},icon:"unfollow",text:s,description:Object(b.b)(u.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:t.name}),elementType:976}}return null}),N(R(R(n)),"unfollowUserOption",function(){var e=n.props,t=e.pinner,o=e.isContextMenuV2Exp,r=t.id,i=t.username,a=t.full_name,c="/".concat(i),l=n.makeNavigateLink("pinnerUrl",c,a,!0),s=o?Object(b.b)(u.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user"),{formattedUser:l}):Object(b.b)(u.a._("You’ve unfollowed {{ formattedUser }}. You can follow again by searching for them.","Confirmation text after unfollowing a user"),{formattedUser:l});return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain user"),subTitle:s},icon:"person",text:Object(b.b)(u.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:a}),description:u.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),N(R(R(n)),"downloadPinOption",function(){return{action:"downloadPin",icon:"download",text:u.a._("Download image","Button to download Pin image"),elementType:10836}}),N(R(R(n)),"_pinFeedbackText",function(){var e=n.props,t=e.location,o=e.feedbackType,r=e.hideDownload,i=e.isContextMenuV2Exp,a=e.pinner,c="followed"===n.props.feedbackType,l=t.pathname.includes("following"),s=(c||"topic"===o)&&!l,p=n.hidePinOption(s),f=n.reportPinOption(),d="promoted"!==o&&!r;switch(o){case"followed":var b=l,y=!b&&n.getRecommendationDescription(),m=a.explicitly_followed_by_me?n.unfollowUserOption():n.unfollowBoardOption();return P({},y?{description:y}:{},{options:i?[p].concat(w(s||b?[m]:[]),w("promoted"!==o?[n.downloadPinOption()]:[]),[f]):w(s?[n.unfollowBoardOption()]:[]).concat(w("promoted"!==o?[n.downloadPinOption()]:[]),[p,f],w(b?[n.unfollowBoardOption(),n.unfollowUserOption()]:[]))});case"promoted":var _=n.props.ad_match_reason,h=[p,{icon:"question-mark",link:n.feedbackHelpers.getLearnMoreUrl(_),text:u.a._("Why am I seeing this ad?","Link to promoted pins explanation page")},f];return{description:n.getRecommendationDescription(),options:h};case"topic":var E=n.unfollowTopicOption(),T=i?[p].concat(w(s&&E?[E]:[]),w(d?[n.downloadPinOption()]:[]),[f]):w(s&&E?[E]:[]).concat(w(d?[n.downloadPinOption()]:[]),[p,f]);return{description:n.getRecommendationDescription(),options:T};case"pfy":case"pfyBoard":var O=i?[p].concat(w("pfyBoard"===o?[n.stopRecommendationOption()]:[]),w(d?[n.downloadPinOption()]:[]),[f]):w(d?[n.downloadPinOption()]:[]).concat([p,f]);return{description:n.getRecommendationDescription(),options:O};default:var I=i?[p].concat(w(d?[n.downloadPinOption()]:[]),[f]):w(d?[n.downloadPinOption()]:[]).concat([p,f]);return{description:n.getRecommendationDescription(),options:I}}}),N(R(R(n)),"handleSecondaryFeedbackItemClick",function(e,t){var o=n.props,r=o.feedbackData,i=o.feedbackType,a=o.pinId,c=o.onHide,l=o.recommendationReason,u=l&&l.reason&&y.ReasonToChoose[l.reason],s=l&&n.getThroughId(),p=n.feedbackHelpers.getHidePinAction({feedbackData:r,feedbackType:i,pinId:a,recommendationReasonId:u,throughId:s,complaintReason:e}),f=p.action,d=p.actionOptions;n.handleClickLogging(t),Object(O.a)(f,d),c()}),N(R(R(n)),"pinHiddenFeedbackText",function(e){var t=n.props.isContextMenuV2Exp,o=e?null:n.getUnfollowAction();return o?{title:t?"":u.a._("Pin hidden","Pin feedback"),subTitle:n.getRecommendationDescription(),unfollow:o}:{title:t?"":u.a._("Pin hidden","message displayed after hiding a pin"),subTitle:t?u.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin"):u.a._("Got it! We'll try to show you more relevant Pins in the future.","message displayed after hiding a pin")}}),N(R(R(n)),"renderSecondaryFeedbackItem",function(e){var t=e.text,o=e.reason,i=e.elementType,a=n.props.isContextMenuV2Exp;return r.a.createElement(T.P,{onTouch:function(){return n.handleSecondaryFeedbackItemClick(o,i)},fullWidth:!1,key:t},r.a.createElement(c.a,{text:t,isContextMenuV2Exp:a}))}),N(R(R(n)),"renderSecondaryFeedback",function(){var e="promoted"===n.props.feedbackType?[{text:u.a._("Not my taste","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Low-quality image",""),reason:13,elementType:10898},{text:u.a._("Seen Pin too many times",""),reason:3,elementType:11172}]:[{text:u.a._("Not my taste","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Not in a language I understand",""),reason:15,elementType:11178},{text:u.a._("Low-quality image",""),reason:13,elementType:10898},{text:u.a._("Seen Pin too many times",""),reason:3,elementType:295},{text:u.a._("Other",""),reason:8,elementType:11179}];return r.a.createElement(T.b,{overflow:"hidden",width:"100%",shape:"rounded"},r.a.createElement(T.b,{paddingX:4,paddingY:4},r.a.createElement(T.K,{color:"darkGray",size:"sm"},u.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback"))),r.a.createElement(T.j,null),r.a.createElement(T.b,{paddingY:2},e.map(n.renderSecondaryFeedbackItem)))});var a=n._pinFeedbackText();return n.state={pinFeedbackConfig:a,showSecondary:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),n=t,(o=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(O.a)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,o){var r=this.props,i=r.dispatch,a=r.onHide,c=r.pinId,l=r.isContextMenuV2Exp;i(t&&n&&o?Object(h.e)(c,e,this.generateUndoHideCallback(n,o),this.getUndoText(o)):Object(h.a)(c,e)),!l||!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),i(Object(h.d)(c)))}},{key:"getThroughId",value:function(){var e=this.props.recommendationReason;return e.reason_id?e.reason_id:e.board?e.board.id:e.pin?e.pin.id:e.interest?e.interest.id:""}},{key:"getComponentType",value:function(){switch(this.props.feedbackType){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}},{key:"makeStrongText",value:function(e,t){return r.a.createElement("strong",{key:e},t)}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.viewParameter,r=n.viewType;Object(m.a)(101,P({},t,{view:r,viewParameter:o,element:e,component:this.getComponentType()}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.bestPinImgSrc,n=e.pinTitle,o=e.pinDescription,i=e.pinCategory,l=e.isContextMenuV2Exp;return r.a.createElement(a.a,{imgSrc:t,filename:n||o,category:i},function(e){return r.a.createElement(T.P,{onTouch:e,fullWidth:!1},r.a.createElement(c.a,{text:u.a._("Download image","Button to download Pin image"),icon:"download",isContextMenuV2Exp:l}))})}},{key:"renderButtons",value:function(){for(var e=this,t=this.props.isContextMenuV2Exp,n=this.state.pinFeedbackConfig.options,o=[],i=n.length,a=function(a){var l=n[a],u=!t&&a<i-1,f=O.b.includes(l.action),d=l.callback?l.callback:function(){return e.onPinHide(l.feedbackText,f,l.actionOptions,l.action)};"downloadPin"!==l.action?o.push(r.a.createElement(T.b,{key:a},l.link?r.a.createElement(s.b,{external:!0,to:l.link},r.a.createElement(c.a,{text:l.text,icon:l.icon,description:l.description,isContextMenuV2Exp:t})):r.a.createElement(T.P,{onTouch:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,l,d)},fullWidth:!1},r.a.createElement(c.a,{text:l.text,icon:l.icon,description:l.description,isContextMenuV2Exp:t})),u&&r.a.createElement(T.j,null))):"undefined"!=typeof window&&"windows"!==Object(p.a)(window)&&o.push(r.a.createElement(T.b,{key:a},e.renderDownloadButton(),u&&r.a.createElement(T.j,null)))},l=0;l<i;l+=1)a(l);return o}},{key:"render",value:function(){var e=this.props.isContextMenuV2Exp,t=this.state,n=t.pinFeedbackConfig,o=t.showSecondary,i=n.description,a=this.getRecommendationDescriptionImage();return e?r.a.createElement(T.b,{overflow:"hidden",width:"100%"},o?this.renderSecondaryFeedback():r.a.createElement(T.b,null,i&&r.a.createElement(T.b,null,r.a.createElement(T.b,{padding:4,display:"flex",alignItems:"center"},r.a.createElement(T.b,{maxHeight:52,overflow:"hidden"},r.a.createElement(T.K,{color:"darkGray",size:"sm",overflow:"normal"},i)),a),r.a.createElement(T.j,null)),r.a.createElement(T.b,{marginTop:2,marginBottom:3},this.renderButtons()))):r.a.createElement(T.b,{overflow:"hidden",width:"100%"},this.renderButtons(),i&&r.a.createElement(T.b,null,r.a.createElement(T.j,null),r.a.createElement(T.b,{paddingX:4,paddingY:3},r.a.createElement(T.K,{color:"darkGray"},i))))}}])&&v(n.prototype,o),i&&v(n,i),t}();t.a=Object(f.compose)(Object(i.connect)(),E.e,_.withRouter)(C)},wxfF:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("GyhR"),r=n("ggpB"),i=n("+U6O");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return o=this,i=(e=l(t)).call.apply(e,[this].concat(u)),n=!i||"object"!==a(i)&&"function"!=typeof i?s(o):i,p(s(s(n)),"state",{href:void 0}),p(s(s(n)),"onEvent",function(){if("undefined"!=typeof window){var e=n.props,t=e.imgSrc,o=e.filename,i=e.isUnauth,a=e.category;null==n.state.href&&fetch(t,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then(function(e){return e.blob()}).then(function(e){n.setState({href:window.URL.createObjectURL(e)},function(){n.imageDownload&&o&&n.imageDownload.click()})}).catch(function(){return n.setState({href:n.DOWNLOAD_ERROR})}),Object(r.a)("web.".concat(i?"unauth":"auth",".download.click.").concat(a||"no_category"))}}),p(s(s(n)),"DOWNLOAD_ERROR","error"),n}var n,f,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["Component"]),n=t,(f=[{key:"render",value:function(){var e=this,t=this.props.children,n=this.props.filename,r=this.state.href,a=null!=r&&r!==this.DOWNLOAD_ERROR;return o.createElement(o.Fragment,null,t(this.onEvent),a&&o.createElement(i.b,{display:"none"},o.createElement("a",{ref:function(t){return e.imageDownload=t},tabIndex:-1,download:n,href:r})))}}])&&c(n.prototype,f),d&&c(n,d),t}()}}]);